import{j as e,a as t,m as a,T as l,U as r,L as n,E as i,b as s,F as o,X as c,M as d,A as m,H as u,B as h,C as p,c as g,d as f,S as x,e as y,f as b,g as v,h as N,i as w,P as _,k,l as S,n as C,o as A,p as j,q as P,r as M,s as T,t as F,u as O,D as B,v as E,w as D,x as R,y as z,z as L,G as $,I as V,J as q,K as I,N as U,O as K,Q as G,R as Y,V as H,W,Y as J,Z as Q,_ as X,$ as Z}from"./ui-41053164.js";import{a as ee,r as te,e as ae,d as le}from"./vendor-7353daf2.js";import{a as re,z as ne,u as ie,b as se,c as oe,n as ce,S as de,Q as me,d as ue,F as he}from"./utils-57a1887d.js";import{N as pe,u as ge,a as fe,L as xe,R as ye,b as be,B as ve}from"./router-55c9a16d.js";import{R as Ne,A as we,C as _e,X as ke,Y as Se,T as Ce,a as Ae,P as je,b as Pe,c as Me,B as Te,d as Fe,L as Oe,e as Be}from"./charts-91bae6d7.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Ee={},De=ee;Ee.createRoot=De.createRoot,Ee.hydrateRoot=De.hydrateRoot;const Re=te.createContext(null),ze={didCatch:!1,error:null};class Le extends te.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=ze}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(null!==e){for(var t,a,l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];null===(t=(a=this.props).onReset)||void 0===t||t.call(a,{args:r,reason:"imperative-api"}),this.setState(ze)}}componentDidCatch(e,t){var a,l;null===(a=(l=this.props).onError)||void 0===a||a.call(l,e,t)}componentDidUpdate(e,t){const{didCatch:a}=this.state,{resetKeys:l}=this.props;var r,n;a&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((e,a)=>!Object.is(e,t[a]))}(e.resetKeys,l)&&(null===(r=(n=this.props).onReset)||void 0===r||r.call(n,{next:l,prev:e.resetKeys,reason:"keys"}),this.setState(ze))}render(){const{children:e,fallbackRender:t,FallbackComponent:a,fallback:l}=this.props,{didCatch:r,error:n}=this.state;let i=e;if(r){const e={error:n,resetErrorBoundary:this.resetErrorBoundary};if(te.isValidElement(l))i=l;else if("function"==typeof t)i=t(e);else{if(!a)throw n;i=te.createElement(a,e)}}return te.createElement(Re.Provider,{value:{didCatch:r,error:n,resetErrorBoundary:this.resetErrorBoundary}},i)}}const $e=re.create({baseURL:"http://localhost:8000/api",timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});$e.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),$e.interceptors.response.use(e=>e,e=>{var t,a,l;401===(null==(t=e.response)?void 0:t.status)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login");const r=(null==(l=null==(a=e.response)?void 0:a.data)?void 0:l.message)||"An error occurred";return ne.error(r),Promise.reject(e)});const Ve=e=>$e.post("/login",e),qe=(e={})=>{const t={per_page:e.per_page||10,include:"owner",...e};return e.status&&"all"!==e.status&&(t.status="active"===e.status),$e.get("/turfs",{params:t})},Ie=e=>$e.delete(`/turfs/${e}`),Ue=(e={})=>{const t={per_page:e.per_page||10,include:"turfs,subscriptions.revenueModel"};return e.search&&(t["filter[name]"]=e.search),e.status&&"all"!==e.status&&(t["filter[status]"]="active"===e.status),e.page&&(t.page=e.page),$e.get("/turf-owners",{params:t})},Ke=e=>$e.post("/turf-owners",e),Ge=(e,t)=>$e.put(`/turf-owners/${e}`,t),Ye=e=>$e.delete(`/turf-owners/${e}`),He=(e={})=>{const t={};return e.status&&"all"!==e.status&&(t.status="active"===e.status?"true":"false"),e.type&&(t.type=e.type),$e.get("/revenue-models",{params:t})},We=e=>$e.post("/revenue-models",e),Je=(e,t)=>$e.put(`/revenue-models/${e}`,t),Qe=e=>$e.delete(`/revenue-models/${e}`),Xe=e=>$e.post("/subscribe-revenue-model",e),Ze=()=>$e.get("/my-subscription"),et=(e={})=>{const t={per_page:e.per_page||10,include:"user,revenueModel",...e};return e.status&&"all"!==e.status&&(t.status=e.status),e.search&&(t["filter[user_name]"]=e.search),$e.get("/subscriptions",{params:t})},tt=(e,t)=>$e.put(`/subscriptions/${e}`,t),at=e=>$e.delete(`/subscriptions/${e}`),lt=()=>$e.get("/subscriptions/stats"),rt=(e={})=>{const t={per_page:e.per_page||10,...e};return e.status&&"all"!==e.status&&(t.status="active"===e.status),$e.get("/players",{params:t})},nt=(e={})=>$e.get("/bookings",{params:{per_page:e.per_page||10,include:e.include||"turf,user",...e}}),it=e=>$e.post("/bookings",e),st=(e,t)=>$e.put(`/bookings/${e}`,t),ot=(e={})=>{const t={per_page:e.per_page||10,include:e.include||"owner",...e};return e.status&&"all"!==e.status&&(t.status="active"===e.status),$e.get("/staff",{params:t})},ct=e=>$e.post("/staff",e),dt=(e,t)=>$e.put(`/staff/${e}`,t),mt=e=>$e.delete(`/staff/${e}`),ut=()=>$e.get("/dashboard/stats",{headers:{"Cache-Control":"max-age=300"}}),ht=(e,t)=>$e.get(e,t),pt=(e,t,a)=>$e.post(e,t,a),gt=(e,t,a)=>$e.put(e,t,a),ft=(e,t)=>$e.delete(e,t),xt=te.createContext(),yt=()=>{const e=te.useContext(xt);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},bt=({children:t})=>{const[a,l]=te.useState(null),[r,n]=te.useState(!0);te.useEffect(()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&t&&l(JSON.parse(t)),n(!1)},[]);const i={user:a,login:async(e,t)=>{var a,r,n,i;try{const a=await Ve({email:e,password:t}),{access_token:r,user:n}=a.data;return localStorage.setItem("token",r),localStorage.setItem("user",JSON.stringify(n)),l(n),{success:!0,user:n}}catch(s){return{success:!1,error:(null==(r=null==(a=s.response)?void 0:a.data)?void 0:r.error)||(null==(i=null==(n=s.response)?void 0:n.data)?void 0:i.message)||"Login failed"}}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),l(null)},loading:r,isAuthenticated:!!a};return e(xt.Provider,{value:i,children:t})},vt=({children:t,allowedRoles:a=[]})=>{const{user:l,loading:r}=yt();return r?e("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):l?a.length>0&&!a.includes(l.role)?e(pe,{to:"/unauthorized",replace:!0}):t:e(pe,{to:"/login",replace:!0})},Nt=()=>{const[c,d]=te.useState(""),[m,u]=te.useState(""),[h,p]=te.useState(""),[g,f]=te.useState(!1),[x,y]=te.useState(!1),{login:b,user:v}=yt();if(v){const t="super_admin"===v.role?"/admin/dashboard":"turf_owner"===v.role?"/owner/dashboard":"/staff/dashboard";return e(pe,{to:t,replace:!0})}return t("div",{className:"min-h-screen bg-white flex",children:[e(a.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6},className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-50 to-indigo-100 items-center justify-center p-12",children:t("div",{className:"max-w-md text-center",children:[t(a.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2,duration:.5},className:"mb-8",children:[e("div",{className:"w-20 h-20 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e(l,{className:"w-10 h-10 text-white"})}),e("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Lets Turf Play"}),e("p",{className:"text-xl text-gray-600 mb-8",children:"Admin Portal"})]}),t(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"space-y-4 text-left",children:[t("div",{className:"flex items-center space-x-3 text-gray-700",children:[e("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),e("span",{children:"Manage turf bookings efficiently"})]}),t("div",{className:"flex items-center space-x-3 text-gray-700",children:[e("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),e("span",{children:"Track revenue and analytics"})]}),t("div",{className:"flex items-center space-x-3 text-gray-700",children:[e("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),e("span",{children:"Role-based access control"})]})]})]})}),e("div",{className:"flex-1 flex items-center justify-center p-8",children:t(a.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.6},className:"max-w-md w-full",children:[e("div",{className:"text-center mb-8",children:t(a.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2,duration:.5},children:[e("div",{className:"lg:hidden w-16 h-16 bg-blue-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:e(l,{className:"w-8 h-8 text-white"})}),e("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome back"}),e("p",{className:"text-gray-600",children:"Sign in to your admin account"})]})}),t(a.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},onSubmit:async e=>{e.preventDefault(),f(!0),p("");const t=await b(c,m);t.success||p(t.error),f(!1)},className:"space-y-6",children:[h&&t(a.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[e("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),e("span",{className:"text-sm",children:h})]}),t("div",{className:"space-y-4",children:[t("div",{className:"relative",children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),t("div",{className:"relative",children:[e(r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e("input",{type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Enter your email",value:c,onChange:e=>d(e.target.value)})]})]}),t("div",{className:"relative",children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),t("div",{className:"relative",children:[e(n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e("input",{type:x?"text":"password",required:!0,className:"w-full pl-10 pr-12 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Enter your password",value:m,onChange:e=>u(e.target.value)}),e("button",{type:"button",onClick:()=>y(!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:e(x?i:s,{className:"w-5 h-5"})})]})]})]}),e(a.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:g,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",children:g?t(o,{children:[e("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e("span",{children:"Signing in..."})]}):e("span",{children:"Sign in to Dashboard"})})]}),e(a.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},className:"mt-8 text-center",children:t("div",{className:"text-sm text-gray-500",children:[e("div",{className:"mb-2",children:"Demo Credentials:"}),t("div",{className:"space-y-1 text-xs",children:[e("div",{children:"Super Admin: admin@example.com / password"}),e("div",{children:"Turf Owner: owner@example.com / password"}),e("div",{children:"Staff: staff@example.com / password"})]})]})})]})})]})},wt=({user:l,activeTab:r,setActiveTab:n,tabs:i})=>{var s,y;const[b,v]=te.useState(!1),N=e=>({dashboard:u,turfs:h,bookings:p,staff:g,subscription:f,settings:x}[e]||u);return t(o,{children:[e("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:e("button",{onClick:()=>v(!b),className:"bg-white rounded-lg p-3 shadow-lg border border-gray-200",children:e(b?c:d,{size:20})})}),e(m,{children:b&&t(o,{children:[e(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>v(!1)}),t(a.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:"lg:hidden fixed left-0 top-0 h-full w-80 bg-white shadow-2xl z-50 overflow-y-auto",children:[e("div",{className:"p-6 border-b border-gray-200",children:t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:e("span",{className:"text-white font-bold text-lg",children:(null==(s=null==l?void 0:l.name)?void 0:s.charAt(0))||"U"})}),t("div",{children:[e("h3",{className:"font-semibold text-gray-900",children:(null==l?void 0:l.name)||"User"}),e("p",{className:"text-sm text-gray-500 capitalize",children:(null==(y=null==l?void 0:l.role)?void 0:y.replace("_"," "))||"User"})]})]})}),e("nav",{className:"p-4 space-y-2",children:i.map(a=>{const l=N(a.key);return t("button",{onClick:()=>{n(a.key),v(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all duration-200 "+(r===a.key?"bg-blue-50 text-blue-600 border border-blue-200":"text-gray-600 hover:bg-gray-50"),children:[e(l,{size:20}),e("span",{className:"font-medium",children:a.label})]},a.key)})}),e("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200 bg-gray-50",children:e("button",{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},className:"w-full bg-red-600 hover:bg-red-700 text-white py-3 rounded-xl font-medium transition-colors",children:"Logout"})})]})]})}),e("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-30",children:e("div",{className:"grid grid-cols-4 gap-1 p-2",children:i.slice(0,4).map(a=>{const l=N(a.key);return t("button",{onClick:()=>n(a.key),className:"flex flex-col items-center py-2 px-1 rounded-lg transition-colors "+(r===a.key?"text-blue-600 bg-blue-50":"text-gray-500"),children:[e(l,{size:20}),e("span",{className:"text-xs mt-1 font-medium",children:a.label})]},a.key)})})})]})},_t=()=>{const[a,l]=te.useState({pageLoadTime:0,apiResponseTime:0,memoryUsage:0,errorRate:0,uptime:100});te.useEffect(()=>{const e=performance.now();if(window.addEventListener("load",()=>{const t=performance.now()-e;l(e=>({...e,pageLoadTime:Math.round(t)}))}),"memory"in performance){const e=()=>{const e=performance.memory,t=Math.round(e.usedJSHeapSize/e.jsHeapSizeLimit*100);l(e=>({...e,memoryUsage:t}))};e();const t=setInterval(e,5e3);return()=>clearInterval(t)}const t=window.fetch;return window.fetch=async(...e)=>{const a=performance.now();try{const r=await t(...e),n=performance.now()-a;return l(e=>({...e,apiResponseTime:Math.round((e.apiResponseTime+n)/2)})),r}catch(r){throw l(e=>({...e,errorRate:e.errorRate+1})),r}},()=>{window.fetch=t}},[]);const r=(e,t)=>e<=t.good?"text-green-600":e<=t.warning?"text-yellow-600":"text-red-600",n=(t,a)=>t<=a.good?e(b,{className:"w-4 h-4 text-green-600"}):t<=a.warning?e(v,{className:"w-4 h-4 text-yellow-600"}):e(N,{className:"w-4 h-4 text-red-600"});return t("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-100",children:[t("div",{className:"flex items-center justify-between mb-4",children:[t("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e(y,{className:"w-5 h-5 text-blue-600"}),"Performance Monitor"]}),t("div",{className:"flex items-center gap-2",children:[e("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e("span",{className:"text-sm text-gray-600",children:"Live"})]})]}),t("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[t("div",{className:"text-center",children:[e("div",{className:"flex items-center justify-center mb-2",children:n(a.pageLoadTime,{good:1e3,warning:3e3})}),t("div",{className:`text-2xl font-bold ${r(a.pageLoadTime,{good:1e3,warning:3e3})}`,children:[a.pageLoadTime,"ms"]}),e("div",{className:"text-xs text-gray-500",children:"Page Load"})]}),t("div",{className:"text-center",children:[e("div",{className:"flex items-center justify-center mb-2",children:n(a.apiResponseTime,{good:200,warning:1e3})}),t("div",{className:`text-2xl font-bold ${r(a.apiResponseTime,{good:200,warning:1e3})}`,children:[a.apiResponseTime,"ms"]}),e("div",{className:"text-xs text-gray-500",children:"API Response"})]}),t("div",{className:"text-center",children:[e("div",{className:"flex items-center justify-center mb-2",children:n(a.memoryUsage,{good:50,warning:80})}),t("div",{className:`text-2xl font-bold ${r(a.memoryUsage,{good:50,warning:80})}`,children:[a.memoryUsage,"%"]}),e("div",{className:"text-xs text-gray-500",children:"Memory"})]}),t("div",{className:"text-center",children:[e("div",{className:"flex items-center justify-center mb-2",children:n(a.errorRate,{good:0,warning:5})}),e("div",{className:`text-2xl font-bold ${r(a.errorRate,{good:0,warning:5})}`,children:a.errorRate}),e("div",{className:"text-xs text-gray-500",children:"Errors"})]}),t("div",{className:"text-center",children:[e("div",{className:"flex items-center justify-center mb-2",children:e(b,{className:"w-4 h-4 text-green-600"})}),t("div",{className:"text-2xl font-bold text-green-600",children:[a.uptime,"%"]}),e("div",{className:"text-xs text-gray-500",children:"Uptime"})]})]})]})},kt=e=>{const[t,a]=te.useState([]);te.useEffect(()=>{if(!e)return;const t=setInterval(()=>{l()},3e4);return()=>clearInterval(t)},[e]);const l=async()=>{try{const l=await $e.getUserNotifications(e);(l.data||[]).forEach(e=>{t.find(t=>t.id===e.id)||(r(e),a(t=>[e,...t]))})}catch(l){}},r=e=>{const{type:t,title:a,message:l}=e;switch(t){case"booking":ne.success(`New Booking: ${l}`,{duration:5e3});break;case"cancellation":ne.error(`Booking Cancelled: ${l}`,{duration:5e3});break;case"payment":ne.success(`Payment Received: ${l}`,{duration:5e3});break;default:ne(l,{duration:4e3})}};return{notifications:t,showNotification:r}},St=({children:a,activeTab:l})=>{var r,n;const{user:i,logout:s}=yt(),o=ge();fe();const[c,d]=te.useState(!1),[m,u]=te.useState(!1),{notifications:h}=kt(null==i?void 0:i.id),p=()=>{switch(null==i?void 0:i.role){case"super_admin":return[{id:"dashboard",label:"Dashboard",icon:"ðŸ“Š"},{id:"owners",label:"Turf Owners",icon:"ðŸ‘¥"},{id:"turfs",label:"All Turfs",icon:"ðŸŸï¸"},{id:"staff",label:"Staff",icon:"ðŸ‘¨ðŸ’¼"},{id:"subscription",label:"Subscriptions",icon:"ðŸ‘‘"},{id:"revenue",label:"Revenue Models",icon:"ðŸ’°"},{id:"players",label:"Players",icon:"ðŸŽ®"}];case"turf_owner":return[{id:"dashboard",label:"Dashboard",icon:"ðŸ“Š"},{id:"turfs",label:"My Turfs",icon:"ðŸŸï¸"},{id:"bookings",label:"Bookings",icon:"ðŸ“…"},{id:"staff",label:"Staff",icon:"ðŸ‘¨â€ðŸ’¼"}];case"staff":return[{id:"dashboard",label:"Dashboard",icon:"ðŸ“Š"},{id:"bookings",label:"Manage Bookings",icon:"ðŸ“‹"}];default:return[]}},g=p(),[f,x]=te.useState(l);return t("div",{className:"h-screen flex flex-col bg-white",children:[e(wt,{user:i,activeTab:f,setActiveTab:x,tabs:g}),e("header",{className:"bg-white border-b border-gray-200 flex-shrink-0 hidden lg:block",children:t("div",{className:"flex items-center justify-between px-6 py-4",children:[t("div",{className:"flex items-center space-x-8",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:e("span",{className:"text-white font-bold text-sm",children:"LT"})}),e("div",{children:e("h1",{className:"text-lg font-bold text-gray-900",children:"Lets Turf Play"})})]}),e("nav",{className:"flex space-x-1",children:p().map(a=>t(xe,{to:`/${"super_admin"===(null==i?void 0:i.role)?"admin":"turf_owner"===(null==i?void 0:i.role)?"owner":"staff"}/${a.id}`,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 "+(l===a.id?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[e("span",{className:"text-base",children:a.icon}),e("span",{className:"hidden md:block",children:a.label})]},a.id))})]}),t("div",{className:"flex items-center space-x-4",children:[e("button",{onClick:()=>u(!m),className:"text-gray-500 hover:text-gray-700 p-2 rounded-lg hover:bg-gray-50",title:"Performance Monitor",children:"ðŸ“Š"}),h.length>0&&t("div",{className:"relative",children:[e("button",{className:"text-gray-500 hover:text-gray-700 p-2 rounded-lg hover:bg-gray-50",children:"ðŸ””"}),e("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:h.length})]}),t("div",{className:"relative",children:[t("button",{onClick:()=>d(!c),className:"flex items-center space-x-3 hover:bg-gray-50 rounded-lg px-3 py-2 transition-all duration-200",children:[e("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:e("span",{className:"text-gray-700 font-semibold text-sm",children:null==(r=null==i?void 0:i.name)?void 0:r.charAt(0)})}),t("div",{className:"text-left hidden md:block",children:[e("p",{className:"text-gray-900 font-medium text-sm",children:null==i?void 0:i.name}),e("p",{className:"text-gray-500 text-xs",children:null==(n=null==i?void 0:i.role)?void 0:n.replace("_"," ")})]})]}),c&&t("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50",children:[t("div",{className:"px-4 py-3 border-b border-gray-100",children:[e("p",{className:"font-medium text-gray-900",children:null==i?void 0:i.name}),e("p",{className:"text-sm text-gray-500",children:null==i?void 0:i.email})]}),t(xe,{to:`/${"super_admin"===(null==i?void 0:i.role)?"admin":"turf_owner"===(null==i?void 0:i.role)?"owner":"staff"}/profile`,className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center space-x-2 text-gray-700",children:[e("span",{children:"ðŸ‘¤"}),e("span",{children:"Profile"})]}),t(xe,{to:`/${"super_admin"===(null==i?void 0:i.role)?"admin":"turf_owner"===(null==i?void 0:i.role)?"owner":"staff"}/settings`,className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center space-x-2 text-gray-700",children:[e("span",{children:"âš™ï¸"}),e("span",{children:"Settings"})]}),t("button",{onClick:()=>{s(),o("/login")},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center space-x-2",children:[e("span",{children:"ðŸšª"}),e("span",{children:"Logout"})]})]})]})]})]})}),m&&e("div",{className:"border-b border-gray-200 p-4 bg-gray-50",children:e(_t,{})}),e("main",{className:"flex-1 overflow-hidden bg-gray-50/30 pb-16 lg:pb-0",children:e("div",{className:"h-full",children:a})})]})};var Ct,At,jt,Pt={},Mt={exports:{}};Ct=Mt.exports,At=function(){return At=Object.assign||function(e){for(var t,a=1,l=arguments.length;a<l;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},At.apply(this,arguments)},jt=function(){function e(e,t,a){var l=this;this.endVal=t,this.options=a,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(e){l.startTime||(l.startTime=e);var t=e-l.startTime;l.remaining=l.duration-t,l.useEasing?l.countDown?l.frameVal=l.startVal-l.easingFn(t,0,l.startVal-l.endVal,l.duration):l.frameVal=l.easingFn(t,l.startVal,l.endVal-l.startVal,l.duration):l.frameVal=l.startVal+(l.endVal-l.startVal)*(t/l.duration);var a=l.countDown?l.frameVal<l.endVal:l.frameVal>l.endVal;l.frameVal=a?l.endVal:l.frameVal,l.frameVal=Number(l.frameVal.toFixed(l.options.decimalPlaces)),l.printValue(l.frameVal),t<l.duration?l.rAF=requestAnimationFrame(l.count):null!==l.finalEndVal?l.update(l.finalEndVal):l.options.onCompleteCallback&&l.options.onCompleteCallback()},this.formatNumber=function(e){var t,a,r,n,i=e<0?"-":"";t=Math.abs(e).toFixed(l.options.decimalPlaces);var s=(t+="").split(".");if(a=s[0],r=s.length>1?l.options.decimal+s[1]:"",l.options.useGrouping){n="";for(var o=3,c=0,d=0,m=a.length;d<m;++d)l.options.useIndianSeparators&&4===d&&(o=2,c=1),0!==d&&c%o==0&&(n=l.options.separator+n),c++,n=a[m-d-1]+n;a=n}return l.options.numerals&&l.options.numerals.length&&(a=a.replace(/[0-9]/g,function(e){return l.options.numerals[+e]}),r=r.replace(/[0-9]/g,function(e){return l.options.numerals[+e]})),i+l.options.prefix+a+r+l.options.suffix},this.easeOutExpo=function(e,t,a,l){return a*(1-Math.pow(2,-10*e/l))*1024/1023+t},this.options=At(At({},this.defaults),a),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el="string"==typeof e?document.getElementById(e):e,t=null==t?this.parse(this.el.innerHTML):t,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(t),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined","undefined"!=typeof window&&this.options.enableScrollSpy&&(this.error||(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return l.handleScroll(l)}),window.onscroll=function(){window.onScrollFns.forEach(function(e){return e()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(e){if(e&&window&&!e.once){var t=window.innerHeight+window.scrollY,a=e.el.getBoundingClientRect(),l=a.top+window.pageYOffset,r=a.top+a.height+window.pageYOffset;r<t&&r>window.scrollY&&e.paused?(e.paused=!1,setTimeout(function(){return e.start()},e.options.scrollSpyDelay),e.options.scrollSpyOnce&&(e.once=!0)):(window.scrollY>r||l>t)&&!e.paused&&e.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var e=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>e;var t=e-this.startVal;if(Math.abs(t)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=e;var a=this.countDown?1:-1;this.endVal=e+a*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=e,this.finalEndVal=null;null!==this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(e){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),e&&(this.options.onCompleteCallback=e),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(e){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(e),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,null==this.finalEndVal&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(e){var t;if(this.el){var a=this.formattingFn(e);(null===(t=this.options.plugin)||void 0===t?void 0:t.render)?this.options.plugin.render(this.el,a):"INPUT"===this.el.tagName?this.el.value=a:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=a:this.el.innerHTML=a}},e.prototype.ensureNumber=function(e){return"number"==typeof e&&!isNaN(e)},e.prototype.validateValue=function(e){var t=Number(e);return this.ensureNumber(t)?t:(this.error="[CountUp] invalid start or end value: ".concat(e),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e.prototype.parse=function(e){var t=function(e){return e.replace(/([.,'Â  ])/g,"\\$1")},a=t(this.options.separator),l=t(this.options.decimal),r=e.replace(new RegExp(a,"g"),"").replace(new RegExp(l,"g"),".");return parseFloat(r)},e}(),Ct.CountUp=jt;var Tt=Mt.exports;Object.defineProperty(Pt,"__esModule",{value:!0});var Ft=te,Ot=Tt;function Bt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,l)}return a}function Et(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(a),!0).forEach(function(t){Rt(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Bt(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function Dt(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function Rt(e,t,a){return(t=Dt(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function zt(){return zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},zt.apply(this,arguments)}function Lt(e,t){if(null==e)return{};var a,l,r=function(e,t){if(null==e)return{};var a,l,r={},n=Object.keys(e);for(l=0;l<n.length;l++)a=n[l],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(l=0;l<n.length;l++)a=n[l],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function $t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,r,n,i,s=[],o=!0,c=!1;try{if(n=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;o=!1}else for(;!(o=(l=n.call(a)).done)&&(s.push(l.value),s.length!==t);o=!0);}catch(d){c=!0,r=d}finally{try{if(!o&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Vt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,l=new Array(t);a<t;a++)l[a]=e[a];return l}var qt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?Ft.useLayoutEffect:Ft.useEffect;function It(e){var t=Ft.useRef(e);return qt(function(){t.current=e}),Ft.useCallback(function(){for(var e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return t.current.apply(void 0,a)},[])}var Ut=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],Kt={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},Gt=function(e){var t=Object.fromEntries(Object.entries(e).filter(function(e){return void 0!==$t(e,2)[1]})),a=Ft.useMemo(function(){return Et(Et({},Kt),t)},[e]),l=a.ref,r=a.startOnMount,n=a.enableReinitialize,i=a.delay,s=a.onEnd,o=a.onStart,c=a.onPauseResume,d=a.onReset,m=a.onUpdate,u=Lt(a,Ut),h=Ft.useRef(),p=Ft.useRef(),g=Ft.useRef(!1),f=It(function(){return function(e,t){var a=t.decimal,l=t.decimals,r=t.duration,n=t.easingFn,i=t.end,s=t.formattingFn,o=t.numerals,c=t.prefix,d=t.separator,m=t.start,u=t.suffix,h=t.useEasing,p=t.useGrouping,g=t.useIndianSeparators,f=t.enableScrollSpy,x=t.scrollSpyDelay,y=t.scrollSpyOnce,b=t.plugin;return new Ot.CountUp(e,i,{startVal:m,duration:r,decimal:a,decimalPlaces:l,easingFn:n,formattingFn:s,numerals:o,separator:d,prefix:c,suffix:u,plugin:b,useEasing:h,useIndianSeparators:g,useGrouping:p,enableScrollSpy:f,scrollSpyDelay:x,scrollSpyOnce:y})}("string"==typeof l?l:l.current,u)}),x=It(function(e){var t=h.current;if(t&&!e)return t;var a=f();return h.current=a,a}),y=It(function(){var e=function(){return x(!0).start(function(){null==s||s({pauseResume:b,reset:v,start:w,update:N})})};i&&i>0?p.current=setTimeout(e,1e3*i):e(),null==o||o({pauseResume:b,reset:v,update:N})}),b=It(function(){x().pauseResume(),null==c||c({reset:v,start:w,update:N})}),v=It(function(){x().el&&(p.current&&clearTimeout(p.current),x().reset(),null==d||d({pauseResume:b,start:w,update:N}))}),N=It(function(e){x().update(e),null==m||m({pauseResume:b,reset:v,start:w})}),w=It(function(){v(),y()}),_=It(function(e){r&&(e&&v(),y())});return Ft.useEffect(function(){g.current?n&&_(!0):(g.current=!0,_())},[n,g,_,i,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.formattingFn]),Ft.useEffect(function(){return function(){v()}},[v]),{start:w,pauseResume:b,reset:v,update:N,getCountUp:x}},Yt=["className","redraw","containerProps","children","style"],Ht=Pt.default=function(e){var t=e.className,a=e.redraw,l=e.containerProps,r=e.children,n=e.style,i=Lt(e,Yt),s=Ft.useRef(null),o=Ft.useRef(!1),c=Gt(Et(Et({},i),{},{ref:s,startOnMount:"function"!=typeof r||0===e.delay,enableReinitialize:!1})),d=c.start,m=c.reset,u=c.update,h=c.pauseResume,p=c.getCountUp,g=It(function(){d()}),f=It(function(t){e.preserveValue||m(),u(t)}),x=It(function(){("function"!=typeof e.children||s.current instanceof Element)&&p()});Ft.useEffect(function(){x()},[x]),Ft.useEffect(function(){o.current&&f(e.end)},[e.end,f]);var y=a&&e;return Ft.useEffect(function(){a&&o.current&&g()},[g,a,y]),Ft.useEffect(function(){!a&&o.current&&g()},[g,a,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.className,e.formattingFn]),Ft.useEffect(function(){o.current=!0},[]),"function"==typeof r?r({countUpRef:s,start:d,reset:m,update:u,pauseResume:h,getCountUp:p}):Ft.createElement("span",zt({className:t,ref:s,style:n},l),void 0!==e.start?p().formattingFn(e.start):"")};Pt.useCountUp=Gt;const Wt=(e,t,a={})=>ie(e,t,{staleTime:3e5,cacheTime:6e5,refetchOnWindowFocus:!1,retry:2,...a}),Jt=(e,t={})=>{const a=se();return oe(e,{onSuccess:(e,l,r)=>{var n;t.invalidateQueries&&a.invalidateQueries(t.invalidateQueries),t.successMessage&&ce.success(t.successMessage),null==(n=t.onSuccess)||n.call(t,e,l,r)},onError:(e,a,l)=>{var r,n,i;const s=(null==(n=null==(r=e.response)?void 0:r.data)?void 0:n.message)||"Operation failed";ce.error(s),null==(i=t.onError)||i.call(t,e,a,l)},...t})},Qt=(e,t)=>{const[a,l]=te.useState(e);return te.useEffect(()=>{const a=setTimeout(()=>{l(e)},t);return()=>{clearTimeout(a)}},[e,t]),a};w.setAppElement("#root");const Xt=()=>{var l,r,n,i,c,d,m,u,h;const[p,f]=te.useState(!1),[x,y]=te.useState(!1),[b,v]=te.useState(null),[N,M]=te.useState(1),[T,F]=te.useState(""),[O,B]=te.useState("all"),[E,D]=te.useState({name:"",email:"",password:"",phone:"",revenue_model_id:""}),R=Qt(T,500),z=te.useMemo(()=>({page:N,search:R,status:O}),[N,R,O]),{data:L,isLoading:$,error:V}=((e={})=>Wt(["turf-owners",e],()=>Ue(e)))(z),{data:q}=Wt(["revenue-models"],()=>He()),I=(null==(l=null==L?void 0:L.data)?void 0:l.data)||[],U=(null==q?void 0:q.data)||[],K=(null==(n=null==(r=null==L?void 0:L.data)?void 0:r.meta)?void 0:n.last_page)||1,G=te.useMemo(()=>{var e,t;return{total:(null==(t=null==(e=null==L?void 0:L.data)?void 0:e.meta)?void 0:t.total)||0,active:I.filter(e=>!0===e.status).length,inactive:I.filter(e=>!1===e.status).length}},[I,L]),Y=Jt(e=>Ke(e),{invalidateQueries:["turf-owners"],successMessage:"Owner created successfully!"}),H=Jt(({id:e,data:t})=>Ge(e,t),{invalidateQueries:["turf-owners"],successMessage:"Owner updated successfully!"}),W=Jt(e=>Ye(e),{invalidateQueries:["turf-owners"],successMessage:"Owner deleted successfully!"}),J=Jt(({id:e,status:t})=>Ge(e,{status:t}),{invalidateQueries:["turf-owners"],successMessage:"Status updated successfully!"}),Q=e=>{var t,a;D({name:e.name,email:e.email,password:"",phone:e.phone||"",revenue_model_id:(null==(a=null==(t=e.subscriptions)?void 0:t[0])?void 0:a.revenue_model_id)||""}),v(e),f(!0)},X=({title:l,value:r,icon:n,color:i})=>e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("p",{className:"text-sm font-medium text-gray-600",children:l}),e("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e(Ht,{end:r,duration:1})})]}),e("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${i}`,children:e(n,{className:"w-6 h-6 text-white"})})]})});return e("div",{className:"h-full bg-gray-50/30 overflow-auto",children:t("div",{className:"p-6 space-y-6",children:[t(a.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[t("div",{children:[e("h1",{className:"text-3xl font-bold text-gray-900",children:"Turf Owners"}),e("p",{className:"text-gray-600 mt-1",children:"Manage turf owners and their subscriptions"})]}),t("button",{onClick:()=>{v(null),D({name:"",email:"",password:"",phone:"",revenue_model_id:""}),f(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[e(_,{size:16}),e("span",{children:"Add Owner"})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e(X,{title:"Total Owners",value:G.total,icon:g,color:"bg-blue-500"}),e(X,{title:"Active Owners",value:G.active,icon:g,color:"bg-green-500"}),e(X,{title:"Inactive Owners",value:G.inactive,icon:g,color:"bg-red-500"})]}),e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:e("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"relative",children:[e(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e("input",{type:"text",placeholder:"Search owners...",value:T,onChange:e=>F(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t("div",{className:"flex items-center space-x-2",children:[e(S,{size:16,className:"text-gray-400"}),t("select",{value:O,onChange:e=>B(e.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e("option",{value:"all",children:"All Status"}),e("option",{value:"active",children:"Active"}),e("option",{value:"inactive",children:"Inactive"})]})]})]})})}),e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:$?e("div",{className:"flex justify-center items-center py-12",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t(o,{children:[e("div",{className:"overflow-x-auto",children:t("table",{className:"min-w-full",children:[e("thead",{className:"bg-gray-50",children:t("tr",{children:[e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Business"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subscription"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map((l,r)=>{var n,i,o,c,d,m,u,h;return t(a.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*r},className:"hover:bg-gray-50 transition-colors",children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"flex items-center",children:[e("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e("span",{className:"text-blue-600 font-semibold",children:null==(n=l.name)?void 0:n.charAt(0)})}),t("div",{className:"ml-4",children:[e("div",{className:"text-sm font-medium text-gray-900",children:l.name}),e("div",{className:"text-sm text-gray-500",children:l.email})]})]})}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[t("div",{className:"text-sm text-gray-900",children:[(null==(i=l.turfs)?void 0:i.length)||0," Turfs"]}),t("div",{className:"text-sm text-gray-500",children:["Member since ",new Date(l.created_at).getFullYear()]})]}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[e("div",{className:"text-sm font-medium text-gray-900",children:(null==(d=null==(c=null==(o=l.subscriptions)?void 0:o[0])?void 0:c.revenue_model)?void 0:d.name)||"No Plan"}),t("div",{className:"text-sm text-gray-500",children:[null==(h=null==(u=null==(m=l.subscriptions)?void 0:m[0])?void 0:u.revenue_model)?void 0:h.commission_percentage,"% commission"]})]}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("button",{onClick:()=>((e,t)=>{const a=!t;J.mutate({id:e,status:a})})(l.id,l.status),className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full transition-colors "+(l.status?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"),children:l.status?"active":"inactive"})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>(e=>{v(e),y(!0)})(l),className:"text-blue-600 hover:text-blue-900 p-1 rounded",children:e(s,{size:16})}),e("button",{onClick:()=>Q(l),className:"text-green-600 hover:text-green-900 p-1 rounded",children:e(C,{size:16})}),e("button",{onClick:()=>(async(e,t)=>{(await de.fire({title:"Delete Turf Owner",html:`Are you sure you want to delete <strong>${t}</strong>?<br><small class="text-gray-500">This action cannot be undone.</small>`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, Delete",cancelButtonText:"Cancel",customClass:{popup:"rounded-2xl",confirmButton:"rounded-lg px-6 py-2",cancelButton:"rounded-lg px-6 py-2"}})).isConfirmed&&W.mutate(e)})(l.id,l.name),className:"text-red-600 hover:text-red-900 p-1 rounded",children:e(A,{size:16})})]})})]},l.id)})})]})}),t("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[t("div",{className:"text-sm text-gray-500",children:["Showing ",(null==(c=null==(i=null==L?void 0:L.data)?void 0:i.meta)?void 0:c.from)||0," to ",(null==(m=null==(d=null==L?void 0:L.data)?void 0:d.meta)?void 0:m.to)||0," of ",G.total," results"]}),t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>M(e=>e-1),disabled:1===N,className:"p-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:e(j,{size:16})}),t("span",{className:"px-3 py-1 text-sm font-medium",children:[N," of ",K]}),e("button",{onClick:()=>M(e=>e+1),disabled:N===K,className:"p-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:e(P,{size:16})})]})]})]})}),t(w,{isOpen:p,onRequestClose:()=>{f(!1),v(null),D({name:"",email:"",password:"",phone:"",revenue_model_id:""})},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[95vh] overflow-hidden outline-none",overlayClassName:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:[t("div",{className:"p-6 border-b border-gray-200",children:[e("h2",{className:"text-2xl font-bold text-gray-900",children:b?"Edit Owner":"Add New Owner"}),e("p",{className:"text-gray-600 mt-1",children:b?"Update owner information":"Create a new turf owner account"})]}),t("form",{onSubmit:async e=>{e.preventDefault(),b?H.mutate({id:b.id,data:E}):Y.mutate(E),f(!1),v(null),D({name:"",email:"",password:"",phone:"",revenue_model_id:""})},className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e("input",{type:"text",value:E.name,onChange:e=>D({...E,name:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e("input",{type:"email",value:E.email,onChange:e=>D({...E,email:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:b?"New Password (leave blank to keep current)":"Password"}),e("input",{type:"password",value:E.password,onChange:e=>D({...E,password:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!b})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),e("input",{type:"text",value:E.phone,onChange:e=>D({...E,phone:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t("div",{className:"md:col-span-2",children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Revenue Model"}),t("select",{value:E.revenue_model_id,onChange:e=>D({...E,revenue_model_id:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e("option",{value:"",children:"Select Revenue Model"}),U.map(e=>t("option",{value:e.id,children:[e.name," - ",e.commission_percentage,"% commission (â‚¹",e.monthly_fee,"/month)"]},e.id))]})]})]}),t("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e("button",{type:"button",onClick:()=>{f(!1),v(null),D({name:"",email:"",password:"",phone:"",revenue_model_id:""})},className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),t("button",{type:"submit",disabled:Y.isLoading||H.isLoading,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center space-x-2",children:[(Y.isLoading||H.isLoading)&&e("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e("span",{children:b?"Update Owner":"Create Owner"})]})]})]})]}),e(w,{isOpen:x,onRequestClose:()=>y(!1),className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[95vh] overflow-hidden outline-none",overlayClassName:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:b&&t(o,{children:[e("div",{className:"p-6 border-b border-gray-200",children:t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:e("span",{className:"text-2xl font-bold text-blue-600",children:null==(u=b.name)?void 0:u.charAt(0)})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-gray-900",children:b.name}),e("p",{className:"text-gray-600",children:b.email})]})]})}),e("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e("div",{className:"space-y-6",children:t("div",{children:[e("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),t("div",{className:"space-y-3",children:[t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),e("p",{className:"text-gray-900",children:b.name})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),e("p",{className:"text-gray-900",children:b.email})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),e("p",{className:"text-gray-900",children:b.phone||"Not provided"})]})]})]})}),e("div",{className:"space-y-6",children:t("div",{children:[e("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Business Overview"}),t("div",{className:"space-y-3",children:[t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Total Turfs"}),e("p",{className:"text-2xl font-bold text-green-600",children:(null==(h=b.turfs)?void 0:h.length)||0})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Member Since"}),e("p",{className:"text-gray-900",children:new Date(b.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]})})]})}),t("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[e("button",{onClick:()=>{y(!1),Q(b)},className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Edit Owner"}),e("button",{onClick:()=>y(!1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors",children:"Close"})]})]})})]})})},Zt=()=>{const[l,r]=te.useState([]),[n,i]=te.useState(!0),[s,o]=te.useState(!1),[c,d]=te.useState(null),[m,u]=te.useState({name:"",description:"",features:"",type:"platform_only",monthly_fee:"",yearly_fee:"",commission_percentage:"",status:!0});te.useEffect(()=>{h()},[]);const h=async()=>{var e,t;try{i(!0);const e=await He();r(e.data||[])}catch(a){ce.error(`Failed to fetch revenue models: ${(null==(t=null==(e=a.response)?void 0:e.data)?void 0:t.message)||a.message}`),r([])}finally{i(!1)}},g=()=>{u({name:"",description:"",features:"",type:"platform_only",monthly_fee:"",yearly_fee:"",commission_percentage:"",status:!0}),d(null)},f=e=>{switch(e){case"platform_only":return"bg-blue-100 text-blue-800";case"platform_plus_commission":return"bg-green-100 text-green-800";case"commission_only":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},x=e=>{switch(e){case"platform_only":return"Platform Only";case"platform_plus_commission":return"Platform + Commission";case"commission_only":return"Commission Only";default:return e}};return n?e("div",{className:"flex justify-center items-center h-64",children:e("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t("div",{className:"h-full bg-gray-50/30 overflow-auto",children:[t("div",{className:"p-6 space-y-6",children:[t(a.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[t("div",{children:[e("h1",{className:"text-3xl font-bold text-gray-900",children:"Revenue Models"}),e("p",{className:"text-gray-600 mt-1",children:"Manage platform pricing and subscription models"})]}),t("button",{onClick:()=>o(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center space-x-2 shadow-sm",children:[e(_,{size:20}),e("span",{children:"Add Revenue Model"})]})]}),e("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:l.map((l,r)=>t(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r},className:"bg-white rounded-2xl shadow-sm border-2 transition-all duration-300 hover:shadow-lg "+("platform_plus_commission"===l.type?"border-blue-200 bg-gradient-to-br from-blue-50 to-white":"border-gray-200 hover:border-gray-300"),children:[t("div",{className:"p-6 pb-4",children:[t("div",{className:"flex items-start justify-between mb-4",children:[t("div",{className:"flex-1",children:[t("div",{className:"flex items-center space-x-3 mb-2",children:[e("h3",{className:"text-xl font-bold text-gray-900",children:l.name}),"platform_plus_commission"===l.type&&e("span",{className:"bg-blue-100 text-blue-700 text-xs font-medium px-2 py-1 rounded-full",children:"Popular"})]}),e("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${f(l.type)}`,children:x(l.type)})]}),t("button",{onClick:()=>(async(e,t)=>{try{await Je(e,{status:!t}),ce.success("Status updated successfully"),h()}catch(a){ce.error("Failed to update status")}})(l.id,l.status),className:"flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium transition-colors "+(l.status?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"),children:[l.status?e(M,{size:16}):e(T,{size:16}),e("span",{children:l.status?"Active":"Inactive"})]})]}),e("p",{className:"text-gray-600 text-sm leading-relaxed",children:l.description})]}),e("div",{className:"px-6 py-4 bg-gray-50/50",children:t("div",{className:"space-y-3",children:["commission_only"!==l.type&&t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-2",children:[e(p,{size:16,className:"text-blue-500"}),e("span",{className:"text-sm font-medium text-gray-700",children:"Platform Fee"})]}),t("div",{className:"text-right",children:[l.monthly_fee>0&&t("div",{className:"text-lg font-bold text-gray-900",children:["â‚¹",l.monthly_fee,e("span",{className:"text-sm font-normal text-gray-500",children:"/month"})]}),l.yearly_fee>0&&t("div",{className:"text-sm text-gray-600",children:["â‚¹",l.yearly_fee,e("span",{className:"text-xs",children:"/year"}),l.monthly_fee>0&&t("span",{className:"text-green-600 ml-1",children:["(Save â‚¹",(12*l.monthly_fee-l.yearly_fee).toFixed(0),")"]})]})]})]}),l.commission_percentage>0&&t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-2",children:[e(F,{size:16,className:"text-orange-500"}),e("span",{className:"text-sm font-medium text-gray-700",children:"Commission"})]}),t("div",{className:"text-lg font-bold text-orange-600",children:[l.commission_percentage,"%",e("span",{className:"text-sm font-normal text-gray-500 ml-1",children:"per booking"})]})]}),"commission_only"===l.type&&t("div",{className:"text-center py-2",children:[t("div",{className:"text-2xl font-bold text-green-600",children:[l.commission_percentage,"%"]}),e("div",{className:"text-sm text-gray-600",children:"Commission Only"})]})]})}),l.features&&t("div",{className:"px-6 py-4",children:[e("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Features Included:"}),e("div",{className:"space-y-2",children:l.features.split(",").map((a,l)=>t("div",{className:"flex items-center space-x-2",children:[e(O,{size:14,className:"text-green-500 flex-shrink-0"}),e("span",{className:"text-sm text-gray-600",children:a.trim()})]},l))})]}),e("div",{className:"px-6 py-4 border-t border-gray-100 bg-gray-50/30",children:t("div",{className:"flex justify-end space-x-3",children:[t("button",{onClick:()=>(e=>{d(e),u({name:e.name,description:e.description,features:e.features||"",type:e.type,monthly_fee:e.monthly_fee||"",yearly_fee:e.yearly_fee||"",commission_percentage:e.commission_percentage||"",status:e.status}),o(!0)})(l),className:"flex items-center space-x-1 px-3 py-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors text-sm font-medium",children:[e(C,{size:14}),e("span",{children:"Edit"})]}),t("button",{onClick:()=>(async e=>{if((await de.fire({title:"Delete Revenue Model?",text:"This action cannot be undone",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Delete"})).isConfirmed)try{await Qe(e),ce.success("Revenue model deleted successfully"),h()}catch(t){ce.error("Failed to delete revenue model")}})(l.id),className:"flex items-center space-x-1 px-3 py-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors text-sm font-medium",children:[e(A,{size:14}),e("span",{children:"Delete"})]})]})})]},l.id))})]}),t(w,{isOpen:s,onRequestClose:()=>{o(!1),g()},className:"max-w-3xl mx-auto mt-10 bg-white rounded-2xl shadow-2xl overflow-hidden",overlayClassName:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center p-4 overflow-y-auto",children:[t("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-8 py-6",children:[e("h3",{className:"text-2xl font-bold text-white",children:c?"Edit Revenue Model":"Create New Revenue Model"}),e("p",{className:"text-blue-100 mt-1",children:c?"Update pricing model details":"Set up a new pricing structure for your platform"})]}),e("div",{className:"p-8",children:t("form",{onSubmit:async e=>{var t,a;e.preventDefault();try{const e={...m};e.monthly_fee&&(e.monthly_fee=parseFloat(e.monthly_fee)),e.yearly_fee&&(e.yearly_fee=parseFloat(e.yearly_fee)),e.commission_percentage&&(e.commission_percentage=parseFloat(e.commission_percentage)),c?(await Je(c.id,e),ce.success("Revenue model updated successfully")):(await We(e),ce.success("Revenue model created successfully")),o(!1),g(),h()}catch(l){ce.error((null==(a=null==(t=l.response)?void 0:t.data)?void 0:a.message)||"Operation failed")}},className:"space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{children:[e("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Model Name"}),e("input",{type:"text",value:m.name,onChange:e=>u({...m,name:e.target.value}),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"e.g., Premium Plan",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Model Type"}),t("select",{value:m.type,onChange:e=>u({...m,type:e.target.value}),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[e("option",{value:"platform_only",children:"Platform Only"}),e("option",{value:"platform_plus_commission",children:"Platform + Commission"}),e("option",{value:"commission_only",children:"Commission Only"})]})]})]}),t("div",{children:[e("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),e("textarea",{value:m.description,onChange:e=>u({...m,description:e.target.value}),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",rows:"3",placeholder:"Describe the key benefits and target audience for this pricing model",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Features Included"}),e("textarea",{value:m.features,onChange:e=>u({...m,features:e.target.value}),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",rows:"3",placeholder:"List key features separated by commas (e.g., 24/7 Support, Advanced Analytics, Priority Processing)",required:!0})]}),t("div",{className:"bg-gray-50 rounded-xl p-6",children:[t("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e(B,{size:20,className:"mr-2 text-green-500"}),"Pricing Configuration"]}),("platform_only"===m.type||"platform_plus_commission"===m.type)&&t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t("div",{children:[e("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Monthly Fee (â‚¹)"}),t("div",{className:"relative",children:[e("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 font-medium",children:"â‚¹"}),e("input",{type:"number",step:"0.01",min:"0",value:m.monthly_fee,onChange:e=>u({...m,monthly_fee:e.target.value}),className:"w-full border-2 border-gray-200 rounded-xl pl-10 pr-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"999.00"})]})]}),t("div",{children:[e("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Yearly Fee (â‚¹)"}),t("div",{className:"relative",children:[e("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 font-medium",children:"â‚¹"}),e("input",{type:"number",step:"0.01",min:"0",value:m.yearly_fee,onChange:e=>u({...m,yearly_fee:e.target.value}),className:"w-full border-2 border-gray-200 rounded-xl pl-10 pr-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"9999.00"})]}),m.monthly_fee&&m.yearly_fee&&t("p",{className:"text-sm text-green-600 mt-1",children:["Yearly saves: â‚¹",(12*m.monthly_fee-m.yearly_fee).toFixed(2)]})]})]}),("platform_plus_commission"===m.type||"commission_only"===m.type)&&t("div",{className:"max-w-md",children:[e("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Commission Percentage (%)"}),t("div",{className:"relative",children:[e(F,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"number",step:"0.01",min:"0",max:"100",value:m.commission_percentage,onChange:e=>u({...m,commission_percentage:e.target.value}),className:"w-full border-2 border-gray-200 rounded-xl pl-10 pr-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"5.00"})]}),e("p",{className:"text-sm text-gray-500 mt-1",children:"Percentage charged on each successful booking"})]})]}),t("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-xl",children:[t("div",{children:[e("label",{htmlFor:"status",className:"text-sm font-semibold text-gray-900",children:"Model Status"}),e("p",{className:"text-sm text-gray-600",children:"Enable this revenue model for new subscriptions"})]}),t("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",id:"status",checked:m.status,onChange:e=>u({...m,status:e.target.checked}),className:"sr-only peer"}),e("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e("button",{type:"button",onClick:()=>{o(!1),g()},className:"px-6 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl font-medium transition-colors",children:"Cancel"}),e("button",{type:"submit",className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-xl font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:c?"Update Model":"Create Model"})]})]})})]})]})},ea=re.create({baseURL:"http://localhost:8000/api"});ea.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),ea.interceptors.response.use(e=>e,e=>{var t;return 401===(null==(t=e.response)?void 0:t.status)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)}),w.setAppElement("#root");const ta=()=>{var l,r;const[n,i]=te.useState([]),[c,d]=te.useState(!1),[m,u]=te.useState(!1),[h,p]=te.useState(null),[f,x]=te.useState(1),[b,v]=te.useState(1),[N,M]=te.useState(!1),[T,F]=te.useState(""),[O,B]=te.useState("all"),[E,D]=te.useState({total:0,active:0,inactive:0}),[R,z]=te.useState({name:"",email:"",phone:"",sport_preference:"",skill_level:"beginner"});te.useEffect(()=>{L()},[f,T,O]);const L=async(e=1)=>{M(!0);try{const t=await ea.get(`/players?page=${e}&per_page=10&search=${T}&status=${O}`);i(t.data.data||t.data),t.data.data?(x(t.data.current_page),v(t.data.last_page),D({total:t.data.total,active:t.data.data.filter(e=>!0===e.status).length,inactive:t.data.data.filter(e=>!1===e.status).length})):D({total:t.data.length,active:t.data.filter(e=>!0===e.status).length,inactive:t.data.filter(e=>!1===e.status).length})}catch(t){ne.error("Failed to fetch players")}finally{M(!1)}},$=e=>{z({name:e.name,email:e.email,phone:e.phone||"",sport_preference:e.sport_preference||"",skill_level:e.skill_level||"beginner"}),p(e),d(!0)},V=({title:l,value:r,icon:n,color:i})=>e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("p",{className:"text-sm font-medium text-gray-600",children:l}),e("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e(Ht,{end:r,duration:1})})]}),e("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${i}`,children:e(n,{className:"w-6 h-6 text-white"})})]})}),q=e=>{switch(e){case"beginner":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e("div",{className:"h-full bg-gray-50/30 overflow-auto",children:t("div",{className:"p-6 space-y-6",children:[t(a.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[t("div",{children:[e("h1",{className:"text-3xl font-bold text-gray-900",children:"Player Management"}),e("p",{className:"text-gray-600 mt-1",children:"Manage players and their activities"})]}),t("button",{onClick:()=>{p(null),z({name:"",email:"",phone:"",sport_preference:"",skill_level:"beginner"}),d(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[e(_,{size:16}),e("span",{children:"Add Player"})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e(V,{title:"Total Players",value:E.total,icon:g,color:"bg-blue-500"}),e(V,{title:"Active Players",value:E.active,icon:y,color:"bg-green-500"}),e(V,{title:"Inactive Players",value:E.inactive,icon:g,color:"bg-red-500"})]}),e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:e("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"relative",children:[e(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e("input",{type:"text",placeholder:"Search players...",value:T,onChange:e=>F(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t("div",{className:"flex items-center space-x-2",children:[e(S,{size:16,className:"text-gray-400"}),t("select",{value:O,onChange:e=>B(e.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e("option",{value:"all",children:"All Status"}),e("option",{value:"active",children:"Active"}),e("option",{value:"inactive",children:"Inactive"})]})]})]})})}),e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:N?e("div",{className:"flex justify-center items-center py-12",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t(o,{children:[e("div",{className:"overflow-x-auto",children:t("table",{className:"min-w-full",children:[e("thead",{className:"bg-gray-50",children:t("tr",{children:[e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sport Preference"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Skill Level"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((l,r)=>{var n,i;return t(a.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*r},className:"hover:bg-gray-50 transition-colors",children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"flex items-center",children:[e("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e("span",{className:"text-blue-600 font-semibold",children:null==(n=l.name)?void 0:n.charAt(0)})}),t("div",{className:"ml-4",children:[e("div",{className:"text-sm font-medium text-gray-900",children:l.name}),t("div",{className:"text-sm text-gray-500",children:[(null==(i=l.bookings)?void 0:i.length)||0," bookings"]})]})]})}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[e("div",{className:"text-sm text-gray-900",children:l.email}),e("div",{className:"text-sm text-gray-500",children:l.phone||"No phone"})]}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("div",{className:"text-sm font-medium text-gray-900",children:l.sport_preference||"Not specified"})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${q(l.skill_level)}`,children:l.skill_level||"beginner"})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("button",{onClick:()=>(async(e,t)=>{const a=!t;try{await ea.put(`/players/${e}`,{status:a}),ne.success(`Player ${a?"activated":"deactivated"} successfully!`),L(f)}catch(l){ne.error("Failed to update status")}})(l.id,l.status),className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full transition-colors "+(l.status?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"),children:l.status?"active":"inactive"})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>(e=>{p(e),u(!0)})(l),className:"text-blue-600 hover:text-blue-900 p-1 rounded",children:e(s,{size:16})}),e("button",{onClick:()=>$(l),className:"text-green-600 hover:text-green-900 p-1 rounded",children:e(C,{size:16})}),e("button",{onClick:()=>(async(e,t)=>{if((await de.fire({title:"Delete Player",html:`Are you sure you want to delete <strong>${t}</strong>?<br><small class="text-gray-500">This action cannot be undone.</small>`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, Delete",cancelButtonText:"Cancel"})).isConfirmed){M(!0);try{await ea.delete(`/players/${e}`),ne.success("Player deleted successfully!"),L(f)}catch(a){ne.error("Failed to delete player")}finally{M(!1)}}})(l.id,l.name),className:"text-red-600 hover:text-red-900 p-1 rounded",children:e(A,{size:16})})]})})]},l.id)})})]})}),t("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[t("div",{className:"text-sm text-gray-500",children:["Showing ",10*(f-1)+1," to ",Math.min(10*f,E.total)," of ",E.total," results"]}),t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>L(f-1),disabled:1===f,className:"p-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:e(j,{size:16})}),t("span",{className:"px-3 py-1 text-sm font-medium",children:[f," of ",b]}),e("button",{onClick:()=>L(f+1),disabled:f===b,className:"p-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:e(P,{size:16})})]})]})]})}),t(w,{isOpen:c,onRequestClose:()=>{d(!1),p(null),z({name:"",email:"",phone:"",sport_preference:"",skill_level:"beginner"})},className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[95vh] overflow-hidden outline-none",overlayClassName:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:[t("div",{className:"p-6 border-b border-gray-200",children:[e("h2",{className:"text-2xl font-bold text-gray-900",children:h?"Edit Player":"Add New Player"}),e("p",{className:"text-gray-600 mt-1",children:h?"Update player information":"Create a new player account"})]}),t("form",{onSubmit:async e=>{var t,a;e.preventDefault(),M(!0);try{h?(await ea.put(`/players/${h.id}`,R),ne.success("Player updated successfully!")):(await ea.post("/players",R),ne.success("Player created successfully!")),d(!1),p(null),z({name:"",email:"",phone:"",sport_preference:"",skill_level:"beginner"}),L(f)}catch(l){ne.error((null==(a=null==(t=l.response)?void 0:t.data)?void 0:a.message)||"Operation failed")}finally{M(!1)}},className:"p-6 space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e("input",{type:"text",value:R.name,onChange:e=>z({...R,name:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e("input",{type:"email",value:R.email,onChange:e=>z({...R,email:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),e("input",{type:"text",value:R.phone,onChange:e=>z({...R,phone:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sport Preference"}),t("select",{value:R.sport_preference,onChange:e=>z({...R,sport_preference:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e("option",{value:"",children:"Select Sport"}),e("option",{value:"football",children:"Football"}),e("option",{value:"cricket",children:"Cricket"}),e("option",{value:"basketball",children:"Basketball"}),e("option",{value:"tennis",children:"Tennis"}),e("option",{value:"badminton",children:"Badminton"})]})]}),t("div",{className:"md:col-span-2",children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skill Level"}),t("select",{value:R.skill_level,onChange:e=>z({...R,skill_level:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e("option",{value:"beginner",children:"Beginner"}),e("option",{value:"intermediate",children:"Intermediate"}),e("option",{value:"advanced",children:"Advanced"})]})]})]}),t("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e("button",{type:"button",onClick:()=>{d(!1),p(null),z({name:"",email:"",phone:"",sport_preference:"",skill_level:"beginner"})},className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),t("button",{type:"submit",disabled:N,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center space-x-2",children:[N&&e("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e("span",{children:h?"Update Player":"Create Player"})]})]})]})]}),e(w,{isOpen:m,onRequestClose:()=>u(!1),className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[95vh] overflow-hidden outline-none",overlayClassName:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:h&&t(o,{children:[e("div",{className:"p-6 border-b border-gray-200",children:t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:e("span",{className:"text-2xl font-bold text-blue-600",children:null==(l=h.name)?void 0:l.charAt(0)})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-gray-900",children:h.name}),e("p",{className:"text-gray-600",children:h.email})]})]})}),t("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:[t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e("div",{className:"space-y-6",children:t("div",{children:[e("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),t("div",{className:"space-y-3",children:[t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),e("p",{className:"text-gray-900",children:h.name})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),e("p",{className:"text-gray-900",children:h.email})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),e("p",{className:"text-gray-900",children:h.phone||"Not provided"})]})]})]})}),e("div",{className:"space-y-6",children:t("div",{children:[e("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sports Profile"}),t("div",{className:"space-y-3",children:[t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Sport Preference"}),e("p",{className:"text-gray-900",children:h.sport_preference||"Not specified"})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Skill Level"}),e("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${q(h.skill_level)}`,children:h.skill_level||"beginner"})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Total Bookings"}),e("p",{className:"text-2xl font-bold text-blue-600",children:(null==(r=h.bookings)?void 0:r.length)||0})]})]})]})})]}),h.bookings&&h.bookings.length>0&&t("div",{className:"mt-8",children:[e("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Bookings"}),e("div",{className:"bg-gray-50 rounded-xl p-4",children:e("div",{className:"space-y-3",children:h.bookings.slice(0,5).map((a,l)=>{var r;return t("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg",children:[t("div",{children:[e("p",{className:"font-medium text-gray-900",children:null==(r=a.turf)?void 0:r.turf_name}),e("p",{className:"text-sm text-gray-500",children:new Date(a.date).toLocaleDateString()})]}),e("span",{className:"px-2 py-1 text-xs font-semibold rounded-full "+("confirmed"===a.status?"bg-green-100 text-green-800":"pending"===a.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:a.status})]},l)})})})]})]}),t("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[e("button",{onClick:()=>{u(!1),$(h)},className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Edit Player"}),e("button",{onClick:()=>u(!1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors",children:"Close"})]})]})})]})})},aa=()=>{const[r,n]=te.useState([]),[i,o]=te.useState([]),[c,d]=te.useState([]),[m,u]=te.useState({}),[f,x]=te.useState({revenue:[],bookings:[],users:[],performance:[]}),[b,v]=te.useState(!0);te.useEffect(()=>{N()},[]);const N=async()=>{var e,t,a,l,r;v(!0);try{let s,c,m,h,p,g;try{s=await qe({per_page:1e3,include:"owner,bookings"})}catch(i){s={data:{data:[]}}}try{c=await nt({per_page:1e3,include:"turf,user,turf.owner"})}catch(i){c={data:{data:[]}}}try{m=await rt({per_page:1e3})}catch(i){m={data:{data:[]}}}try{h=await ot({per_page:1e3,include:"owner,owner.turfs"})}catch(i){h={data:{data:[]}}}try{p=await Ue({per_page:1e3})}catch(i){p={data:{data:[]}}}try{g=await ut()}catch(i){g={data:{}}}const f=(null==(e=s.data)?void 0:e.data)||[],y=(null==(t=c.data)?void 0:t.data)||[],b=(null==(a=m.data)?void 0:a.data)||[],v=(null==(l=h.data)?void 0:l.data)||[],N=(null==(r=p.data)?void 0:r.data)||[],A=g.data||{};n(f),d(y),o(b);const j=y.reduce((e,t)=>e+(t.amount||0),0),P=f.filter(e=>!0===e.status).length,M=v.filter(e=>!0===e.status).length,T=N.filter(e=>!0===e.status).length,F=v.filter(e=>!0===e.status).reduce((e,t)=>e+(t.salary||0),0),O=y.filter(e=>"confirmed"===e.status).length,B=y.filter(e=>"pending"===e.status).length,E=y.filter(e=>"cancelled"===e.status).length,D=y.filter(e=>{const t=(new Date).toDateString();return new Date(e.created_at).toDateString()===t}).reduce((e,t)=>e+(t.amount||0),0),R=N.map(e=>{const t=f.filter(t=>t.owner_id===e.id),a=v.filter(t=>t.owner_id===e.id),l=y.filter(e=>t.some(t=>t.id===e.turf_id)),r=l.reduce((e,t)=>e+(t.amount||0),0);return{...e,turfs_count:t.length,staff_count:a.length,bookings_count:l.length,revenue:r}});u({total_revenue:j,today_revenue:D,monthly_revenue:j,total_bookings:y.length,confirmed_bookings:O,pending_bookings:B,cancelled_bookings:E,total_turfs:f.length,active_turfs:P,total_players:b.length,total_staff:v.length,active_staff:M,total_owners:N.length,active_owners:T,monthly_payroll:F,net_profit:j-F,owner_stats:R,...A});const z=w(y),L=_(y),$=k(b),V=S(N,v),q=C(y,F);x({revenue:z,bookings:L,users:$,ownerStats:V,revenueBreakdown:q})}catch(i){ne.error("Failed to load dashboard data"),n([]),d([]),o([]),u({total_revenue:0,today_revenue:0,monthly_revenue:0,total_bookings:0,confirmed_bookings:0,pending_bookings:0,cancelled_bookings:0,total_turfs:0,active_turfs:0,total_players:0,total_staff:0,active_staff:0,total_owners:0,active_owners:0,monthly_payroll:0,net_profit:0,owner_stats:[]}),x({revenue:[],bookings:[],users:[],ownerStats:[],revenueBreakdown:[]})}finally{v(!1)}},w=e=>["Jan","Feb","Mar","Apr","May","Jun"].map(t=>{const a=e.filter(e=>new Date(e.created_at).toLocaleDateString("en",{month:"short"})===t);return{month:t,revenue:a.reduce((e,t)=>e+(t.amount||0),0),bookings:a.length}}),_=e=>{const t=["#3B82F6","#10B981","#F59E0B","#EF4444"];return["Football","Cricket","Basketball","Tennis"].map((e,a)=>({name:e,value:Math.floor(50*Math.random())+10,color:t[a]}))},k=e=>["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(e=>({day:e,active:Math.floor(100*Math.random())+100,new:Math.floor(20*Math.random())+10})),S=(e,t)=>{const a=e.filter(e=>!0===e.status).length;return[{name:"Active Owners",value:a,color:"#10B981"},{name:"Inactive Owners",value:e.length-a,color:"#EF4444"}]},C=(e,t)=>{const a=e.reduce((e,t)=>e+(t.amount||0),0);return[{category:"Booking Revenue",amount:a,color:"#3B82F6"},{category:"Staff Expenses",amount:-t,color:"#EF4444"},{category:"Net Profit",amount:a-t,color:"#10B981"}]},A=({title:l,value:r,change:n,icon:i,color:s,trend:o})=>e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-2},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-all duration-300",children:t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("p",{className:"text-sm font-medium text-gray-600",children:l}),e("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e(Ht,{end:r,duration:2})}),t("div",{className:"flex items-center mt-2",children:["up"===o?e(R,{className:"w-4 h-4 text-green-500"}):e(z,{className:"w-4 h-4 text-red-500"}),t("span",{className:"text-sm font-medium ml-1 "+("up"===o?"text-green-600":"text-red-600"),children:[n,"%"]}),e("span",{className:"text-sm text-gray-500 ml-1",children:"vs last month"})]})]}),e("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${s}`,children:e(i,{className:"w-6 h-6 text-white"})})]})});return e("div",{className:"h-full bg-gray-50/30 overflow-auto",children:t("div",{className:"p-6 space-y-6",children:[t(a.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[t("div",{children:[e("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Overview"}),e("p",{className:"text-gray-600 mt-1",children:"Monitor your platform performance and growth"})]}),t("div",{className:"flex items-center space-x-3",children:[t("select",{className:"bg-white border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e("option",{children:"Last 30 days"}),e("option",{children:"Last 7 days"}),e("option",{children:"Last 90 days"})]}),t("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center space-x-2",children:[e(s,{size:16}),e("span",{children:"View Report"})]})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6",children:[e(A,{title:"Total Revenue",value:m.total_revenue||0,change:12.5,icon:B,color:"bg-green-500",trend:"up"}),e(A,{title:"Total Bookings",value:m.total_bookings||0,change:8.2,icon:p,color:"bg-blue-500",trend:"up"}),e(A,{title:"Active Turfs",value:m.active_turfs||0,change:-2.1,icon:h,color:"bg-purple-500",trend:"down"}),e(A,{title:"Turf Owners",value:m.active_owners||0,change:5.7,icon:g,color:"bg-indigo-500",trend:"up"}),e(A,{title:"Active Staff",value:m.active_staff||0,change:3.4,icon:E,color:"bg-cyan-500",trend:"up"}),e(A,{title:"Total Players",value:m.total_players||0,change:15.3,icon:g,color:"bg-orange-500",trend:"up"})]}),t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t(a.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("div",{children:[e("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Trend"}),e("p",{className:"text-sm text-gray-600",children:"Monthly revenue growth"})]}),e(l,{className:"w-5 h-5 text-green-500"})]}),e(Ne,{width:"100%",height:300,children:t(we,{data:f.revenue,children:[e("defs",{children:t("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),e("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]})}),e(_e,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e(ke,{dataKey:"month",stroke:"#6b7280",fontSize:12}),e(Se,{stroke:"#6b7280",fontSize:12}),e(Ce,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),e(Ae,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)"})]})})]}),t(a.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("div",{children:[e("h3",{className:"text-lg font-semibold text-gray-900",children:"Bookings by Sport"}),e("p",{className:"text-sm text-gray-600",children:"Distribution of bookings"})]}),e(y,{className:"w-5 h-5 text-blue-500"})]}),e(Ne,{width:"100%",height:300,children:t(je,{children:[e(Pe,{data:f.bookings,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:f.bookings.map((t,a)=>e(Me,{fill:t.color},`cell-${a}`))}),e(Ce,{})]})}),e("div",{className:"flex flex-wrap justify-center gap-4 mt-4",children:f.bookings.map((a,l)=>t("div",{className:"flex items-center",children:[e("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:a.color}}),e("span",{className:"text-sm text-gray-600",children:a.name})]},l))})]})]}),t("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("div",{children:[e("h3",{className:"text-lg font-semibold text-gray-900",children:"User Activity"}),e("p",{className:"text-sm text-gray-600",children:"Daily active users"})]}),e(g,{className:"w-5 h-5 text-purple-500"})]}),e(Ne,{width:"100%",height:250,children:t(Te,{data:f.users,children:[e(_e,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e(ke,{dataKey:"day",stroke:"#6b7280",fontSize:12}),e(Se,{stroke:"#6b7280",fontSize:12}),e(Ce,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),e(Fe,{dataKey:"active",fill:"#8B5CF6",radius:[4,4,0,0]}),e(Fe,{dataKey:"new",fill:"#06B6D4",radius:[4,4,0,0]})]})})]}),t(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("div",{children:[e("h3",{className:"text-lg font-semibold text-gray-900",children:"Owner Status"}),e("p",{className:"text-sm text-gray-600",children:"Active vs Inactive owners"})]}),e(E,{className:"w-5 h-5 text-indigo-500"})]}),e(Ne,{width:"100%",height:250,children:t(je,{children:[e(Pe,{data:f.ownerStats||[],cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"value",children:(f.ownerStats||[]).map((t,a)=>e(Me,{fill:t.color},`cell-${a}`))}),e(Ce,{})]})}),e("div",{className:"flex justify-center gap-4 mt-4",children:(f.ownerStats||[]).map((a,l)=>t("div",{className:"flex items-center",children:[e("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:a.color}}),t("span",{className:"text-sm text-gray-600",children:[a.name,": ",a.value]})]},l))})]}),t(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("div",{children:[e("h3",{className:"text-lg font-semibold text-gray-900",children:"Financial Overview"}),e("p",{className:"text-sm text-gray-600",children:"Revenue vs Expenses"})]}),e(D,{className:"w-5 h-5 text-green-500"})]}),t("div",{className:"space-y-4",children:[t("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[t("div",{className:"flex items-center",children:[e("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),e("span",{className:"text-sm font-medium text-gray-900",children:"Total Revenue"})]}),t("span",{className:"text-sm font-bold text-green-600",children:["â‚¹",(m.total_revenue||0).toLocaleString()]})]}),t("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[t("div",{className:"flex items-center",children:[e("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-3"}),e("span",{className:"text-sm font-medium text-gray-900",children:"Staff Expenses"})]}),t("span",{className:"text-sm font-bold text-red-600",children:["â‚¹",(m.monthly_payroll||0).toLocaleString()]})]}),t("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[t("div",{className:"flex items-center",children:[e("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-3"}),e("span",{className:"text-sm font-medium text-gray-900",children:"Net Profit"})]}),t("span",{className:"text-sm font-bold "+((m.net_profit||0)>=0?"text-blue-600":"text-red-600"),children:["â‚¹",(m.net_profit||0).toLocaleString()]})]}),t("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[t("div",{className:"flex items-center",children:[e("div",{className:"w-3 h-3 bg-purple-500 rounded-full mr-3"}),e("span",{className:"text-sm font-medium text-gray-900",children:"Today's Revenue"})]}),t("span",{className:"text-sm font-bold text-purple-600",children:["â‚¹",(m.today_revenue||0).toLocaleString()]})]})]})]})]}),t(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[e("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Platform Summary"}),t("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[t("div",{className:"text-center",children:[e("div",{className:"text-2xl font-bold text-blue-600",children:m.total_owners||0}),e("div",{className:"text-sm text-gray-600",children:"Total Owners"}),t("div",{className:"text-xs text-green-600",children:[m.active_owners||0," Active"]})]}),t("div",{className:"text-center",children:[e("div",{className:"text-2xl font-bold text-purple-600",children:m.total_turfs||0}),e("div",{className:"text-sm text-gray-600",children:"All Turfs"}),t("div",{className:"text-xs text-green-600",children:[m.active_turfs||0," Active"]})]}),t("div",{className:"text-center",children:[e("div",{className:"text-2xl font-bold text-indigo-600",children:m.total_bookings||0}),e("div",{className:"text-sm text-gray-600",children:"All Bookings"}),t("div",{className:"text-xs text-green-600",children:[m.confirmed_bookings||0," Confirmed"]})]}),t("div",{className:"text-center",children:[e("div",{className:"text-2xl font-bold text-cyan-600",children:m.total_staff||0}),e("div",{className:"text-sm text-gray-600",children:"Total Staff"}),t("div",{className:"text-xs text-green-600",children:[m.active_staff||0," Active"]})]}),t("div",{className:"text-center",children:[e("div",{className:"text-2xl font-bold text-orange-600",children:m.total_players||0}),e("div",{className:"text-sm text-gray-600",children:"Total Players"}),e("div",{className:"text-xs text-blue-600",children:"Registered"})]}),t("div",{className:"text-center",children:[t("div",{className:"text-2xl font-bold text-green-600",children:["â‚¹",((m.total_revenue||0)/1e3).toFixed(0),"K"]}),e("div",{className:"text-sm text-gray-600",children:"Total Revenue"}),e("div",{className:"text-xs text-green-600",children:"All Time"})]})]})]}),t(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[e("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Booking Status Overview"}),t("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e("div",{className:"text-2xl font-bold text-blue-600",children:m.total_bookings||0}),e("div",{className:"text-sm text-gray-600",children:"Total Bookings"})]}),t("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e("div",{className:"text-2xl font-bold text-green-600",children:m.confirmed_bookings||0}),e("div",{className:"text-sm text-gray-600",children:"Confirmed"})]}),t("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[e("div",{className:"text-2xl font-bold text-yellow-600",children:m.pending_bookings||0}),e("div",{className:"text-sm text-gray-600",children:"Pending"})]}),t("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[e("div",{className:"text-2xl font-bold text-red-600",children:m.cancelled_bookings||0}),e("div",{className:"text-sm text-gray-600",children:"Cancelled"})]})]})]})]})})};w.setAppElement("#root");const la=()=>{var l,r;const[n,i]=te.useState([]),[c,d]=te.useState(!0),[m,u]=te.useState(!1),[f,x]=te.useState(null),[y,b]=te.useState(""),[v,N]=te.useState("all"),[_,S]=te.useState("all");te.useEffect(()=>{j()},[]);const j=async()=>{var e;d(!0);try{const t=(null==(e=(await qe({per_page:1e3,include:"owner,bookings"})).data)?void 0:e.data)||[];i(t)}catch(t){ne.error("Failed to load turfs data"),i([])}finally{d(!1)}},P=te.useMemo(()=>{const e=n.filter(e=>"active"===e.status).length,t=n.reduce((e,t)=>e+(t.bookings||[]).reduce((e,t)=>e+(t.amount||0),0),0),a=n.reduce((e,t)=>{var a;return e+((null==(a=t.bookings)?void 0:a.length)||0)},0),l=[...new Set(n.map(e=>e.owner_id))].length;return{total:n.length,active:e,inactive:n.length-e,totalRevenue:t,totalBookings:a,uniqueOwners:l}},[n]),M=te.useMemo(()=>n.filter(e=>{var t,a;const l=(e.turf_name||e.name||"").toLowerCase().includes(y.toLowerCase())||(e.location||"").toLowerCase().includes(y.toLowerCase())||((null==(t=e.owner)?void 0:t.name)||"").toLowerCase().includes(y.toLowerCase()),r="all"===v||e.status===v,n="all"===_||(null==(a=e.owner_id)?void 0:a.toString())===_;return l&&r&&n}),[n,y,v,_]),T=te.useMemo(()=>{const e=n.map(e=>{var t;return{id:e.owner_id,name:null==(t=e.owner)?void 0:t.name}}).filter(e=>e.id&&e.name);return[...new Map(e.map(e=>[e.id,e])).values()]},[n]),F=({title:l,value:r,icon:n,color:i,prefix:s="",suffix:o=""})=>e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("p",{className:"text-sm font-medium text-gray-600",children:l}),t("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[s,e(Ht,{end:r,duration:1}),o]})]}),e("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${i}`,children:e(n,{className:"w-6 h-6 text-white"})})]})});return e("div",c?{className:"h-full bg-gray-50/30 flex items-center justify-center",children:t("div",{className:"text-center",children:[e("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e("p",{className:"mt-4 text-gray-600",children:"Loading turfs data..."})]})}:{className:"h-full bg-gray-50/30 overflow-auto",children:t("div",{className:"p-6 space-y-6",children:[e(a.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:t("div",{children:[e("h1",{className:"text-3xl font-bold text-gray-900",children:"Turf Management"}),e("p",{className:"text-gray-600 mt-1",children:"All turfs across all owners"})]})}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6",children:[e(F,{title:"Total Turfs",value:P.total,icon:h,color:"bg-blue-500"}),e(F,{title:"Active Turfs",value:P.active,icon:h,color:"bg-green-500"}),e(F,{title:"Inactive Turfs",value:P.inactive,icon:h,color:"bg-red-500"}),e(F,{title:"Total Bookings",value:P.totalBookings,icon:p,color:"bg-purple-500"}),e(F,{title:"Total Revenue",value:P.totalRevenue,icon:B,color:"bg-emerald-500",prefix:"â‚¹"}),e(F,{title:"Unique Owners",value:P.uniqueOwners,icon:g,color:"bg-indigo-500"})]}),e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:t("div",{className:"flex flex-wrap items-center gap-4",children:[t("div",{className:"relative",children:[e(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e("input",{type:"text",placeholder:"Search turfs, location, or owner...",value:y,onChange:e=>b(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),t("select",{value:v,onChange:e=>N(e.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e("option",{value:"all",children:"All Status"}),e("option",{value:"active",children:"Active"}),e("option",{value:"inactive",children:"Inactive"})]}),t("select",{value:_,onChange:e=>S(e.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e("option",{value:"all",children:"All Owners"}),T.map(t=>e("option",{value:t.id,children:t.name},t.id))]})]})}),e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e("div",{className:"overflow-x-auto",children:t("table",{className:"min-w-full",children:[e("thead",{className:"bg-gray-50",children:t("tr",{children:[e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Turf Details"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Owner"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Location"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Capacity"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Price/Hour"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Bookings"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),t("tbody",{className:"bg-white divide-y divide-gray-200",children:[M.map((l,r)=>{var n,i;return t(a.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*r},className:"hover:bg-gray-50",children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"flex items-center",children:[e("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e(h,{className:"w-5 h-5 text-blue-600"})}),t("div",{className:"ml-4",children:[e("div",{className:"text-sm font-medium text-gray-900",children:l.turf_name||l.name}),e("div",{className:"text-sm text-gray-500",children:l.sport_type||"Multi-Sport"})]})]})}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[e("div",{className:"text-sm font-medium text-gray-900",children:(null==(n=l.owner)?void 0:n.name)||"Unknown Owner"}),t("div",{className:"text-sm text-gray-500",children:["ID: ",l.owner_id]})]}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"flex items-center text-sm text-gray-900",children:[e(L,{className:"w-4 h-4 mr-1 text-gray-400"}),l.location||"Not specified"]})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"flex items-center text-sm text-gray-900",children:[e(g,{className:"w-4 h-4 mr-1 text-gray-400"}),l.capacity||"N/A"," players"]})}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[t("div",{className:"text-sm font-medium text-gray-900",children:["â‚¹",(l.price_per_hour||0).toLocaleString()]}),e("div",{className:"text-sm text-gray-500",children:"per hour"})]}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[e("div",{className:"text-sm font-medium text-gray-900",children:(null==(i=l.bookings)?void 0:i.length)||0}),e("div",{className:"text-sm text-gray-500",children:"total bookings"})]}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("span",{className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full "+("active"===(l.status||"active")?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:l.status||"active"})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>(e=>{x(e),u(!0)})(l),className:"text-blue-600 hover:text-blue-900 p-1 rounded",children:e(s,{size:16})}),e("button",{className:"text-green-600 hover:text-green-900 p-1 rounded",children:e(C,{size:16})}),e("button",{onClick:()=>(async(e,t)=>{if((await de.fire({title:"Delete Turf",html:`Are you sure you want to delete <strong>${t}</strong>?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await Ie(e),ne.success("Turf deleted successfully!"),j()}catch(a){ne.error("Failed to delete turf")}})(l.id,l.turf_name||l.name),className:"text-red-600 hover:text-red-900 p-1 rounded",children:e(A,{size:16})})]})})]},l.id)}),0===M.length&&e("tr",{children:t("td",{colSpan:"8",className:"px-6 py-8 text-center text-gray-500",children:[e(h,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e("p",{children:"No turfs found"}),e("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})})]})]})})}),e(w,{isOpen:m,onRequestClose:()=>u(!1),className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[95vh] overflow-hidden outline-none",overlayClassName:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:f&&t(o,{children:[e("div",{className:"p-6 border-b border-gray-200",children:t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"w-16 h-16 bg-blue-100 rounded-xl flex items-center justify-center",children:e(h,{className:"w-8 h-8 text-blue-600"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-gray-900",children:f.turf_name||f.name}),t("p",{className:"text-gray-600",children:[f.sport_type||"Multi-Sport"," â€¢ ",f.location]})]})]})}),t("div",{className:"p-6 space-y-6",children:[t("div",{className:"grid grid-cols-2 gap-6",children:[t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Owner"}),e("p",{className:"text-gray-900",children:(null==(l=f.owner)?void 0:l.name)||"Unknown"})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Capacity"}),t("p",{className:"text-gray-900",children:[f.capacity||"N/A"," players"]})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Price per Hour"}),t("p",{className:"text-gray-900 font-medium",children:["â‚¹",(f.price_per_hour||0).toLocaleString()]})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Total Bookings"}),e("p",{className:"text-gray-900",children:(null==(r=f.bookings)?void 0:r.length)||0})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),e("span",{className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full "+("active"===f.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:f.status})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),t("p",{className:"text-gray-900 font-medium",children:["â‚¹",(f.bookings||[]).reduce((e,t)=>e+(t.amount||0),0).toLocaleString()]})]})]}),f.facilities&&t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Facilities"}),e("div",{className:"flex flex-wrap gap-2 mt-2",children:f.facilities.map((t,a)=>e("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:t},a))})]})]}),e("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:e("button",{onClick:()=>u(!1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Close"})})]})})]})})};w.setAppElement("#root");const ra=()=>{var l,r;const[n,i]=te.useState([]),[c,d]=te.useState(!0),[m,u]=te.useState(!1),[p,f]=te.useState(!1),[x,y]=te.useState(null),[b,v]=te.useState(""),[N,S]=te.useState("all"),[j,P]=te.useState({staff_name:"",email:"",phone:"",position:"",salary:"",shift_timing:""});te.useEffect(()=>{M()},[]);const M=async()=>{var e;d(!0);try{const t=(null==(e=(await ot({per_page:1e3,include:"owner,owner.turfs"})).data)?void 0:e.data)||[];i(t)}catch(t){i([]),ne.error("Failed to load staff data")}finally{d(!1)}},T=te.useMemo(()=>({total:n.length,active:n.filter(e=>!0===e.status).length,inactive:n.filter(e=>!1===e.status).length,totalSalary:n.filter(e=>!0===e.status).reduce((e,t)=>e+(t.salary||0),0)}),[n]),F=te.useMemo(()=>n.filter(e=>{const t=(e.staff_name||e.name||"").toLowerCase().includes(b.toLowerCase())||(e.position||"").toLowerCase().includes(b.toLowerCase()),a="all"===N||e.status===N;return t&&a}),[n,b,N]),O=e=>{P({staff_name:e.staff_name||e.name||"",email:e.email||"",phone:e.phone||"",position:e.position||"",salary:e.salary||"",shift_timing:e.shift_timing||""}),y(e),u(!0)},B=({title:l,value:r,icon:n,color:i,prefix:s=""})=>e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("p",{className:"text-sm font-medium text-gray-600",children:l}),t("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[s,e(Ht,{end:r,duration:1})]})]}),e("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${i}`,children:e(n,{className:"w-6 h-6 text-white"})})]})});return e("div",c?{className:"h-full bg-gray-50/30 flex items-center justify-center",children:t("div",{className:"text-center",children:[e("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e("p",{className:"mt-4 text-gray-600",children:"Loading staff data..."})]})}:{className:"h-full bg-gray-50/30 overflow-auto",children:t("div",{className:"p-6 space-y-6",children:[t(a.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[t("div",{children:[e("h1",{className:"text-3xl font-bold text-gray-900",children:"Staff Management"}),e("p",{className:"text-gray-600 mt-1",children:"Manage staff across all turfs"})]}),t("button",{onClick:()=>{y(null),P({staff_name:"",email:"",phone:"",position:"",salary:"",shift_timing:""}),u(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[e(_,{size:16}),e("span",{children:"Add Staff"})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e(B,{title:"Total Staff",value:T.total,icon:g,color:"bg-blue-500"}),e(B,{title:"Active Staff",value:T.active,icon:E,color:"bg-green-500"}),e(B,{title:"Inactive Staff",value:T.inactive,icon:g,color:"bg-red-500"}),e(B,{title:"Monthly Payroll",value:T.totalSalary,icon:g,color:"bg-purple-500",prefix:"â‚¹"})]}),e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"relative",children:[e(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e("input",{type:"text",placeholder:"Search staff...",value:b,onChange:e=>v(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t("select",{value:N,onChange:e=>S(e.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e("option",{value:"all",children:"All Status"}),e("option",{value:"active",children:"Active"}),e("option",{value:"inactive",children:"Inactive"})]})]})}),e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e("div",{className:"overflow-x-auto",children:t("table",{className:"min-w-full",children:[e("thead",{className:"bg-gray-50",children:t("tr",{children:[e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Staff Member"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Contact"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Position"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Turf Owner"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Salary"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),t("tbody",{className:"bg-white divide-y divide-gray-200",children:[F.map((l,r)=>{var n,i,o;return t(a.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*r},className:"hover:bg-gray-50",children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"flex items-center",children:[e("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e("span",{className:"text-blue-600 font-semibold",children:null==(n=l.staff_name||l.name||"N")?void 0:n.charAt(0)})}),t("div",{className:"ml-4",children:[e("div",{className:"text-sm font-medium text-gray-900",children:l.staff_name||l.name||"Unknown Staff"}),t("div",{className:"text-sm text-gray-500",children:["ID: ",l.id," â€¢ Since ",new Date(l.created_at||Date.now()).getFullYear()]})]})]})}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[t("div",{className:"text-sm text-gray-900 flex items-center",children:[e($,{className:"w-4 h-4 mr-1 text-gray-400"}),l.email||"No email provided"]}),t("div",{className:"text-sm text-gray-500 flex items-center",children:[e(V,{className:"w-4 h-4 mr-1 text-gray-400"}),l.phone||"No phone provided"]})]}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[e("div",{className:"text-sm font-medium text-gray-900",children:l.position||"General Staff"}),e("div",{className:"text-sm text-gray-500",children:l.shift_timing||"Standard Hours"})]}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"flex items-center",children:[e(h,{className:"w-4 h-4 mr-1 text-gray-400"}),t("div",{children:[e("div",{className:"text-sm font-medium text-gray-900",children:(null==(i=l.owner)?void 0:i.name)||"Unknown Owner"}),t("div",{className:"text-sm text-gray-500",children:["Owner ID: ",l.owner_id||"N/A"]})]})]})}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[t("div",{className:"text-sm font-medium text-gray-900",children:["â‚¹",(null==(o=l.salary)?void 0:o.toLocaleString())||"0"]}),e("div",{className:"text-sm text-gray-500",children:"per month"})]}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("span",{className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full "+(l.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:l.status?"active":"inactive"})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>(e=>{y(e),f(!0)})(l),className:"text-blue-600 hover:text-blue-900 p-1 rounded",children:e(s,{size:16})}),e("button",{onClick:()=>O(l),className:"text-green-600 hover:text-green-900 p-1 rounded",children:e(C,{size:16})}),e("button",{onClick:()=>(async(e,t)=>{if((await de.fire({title:"Remove Staff Member",html:`Are you sure you want to remove <strong>${t}</strong>?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, Remove",cancelButtonText:"Cancel"})).isConfirmed)try{await mt(e),ne.success("Staff member removed successfully!"),M()}catch(a){ne.error("Failed to remove staff member")}})(l.id,l.staff_name||l.name),className:"text-red-600 hover:text-red-900 p-1 rounded",children:e(A,{size:16})})]})})]},l.id)}),0===F.length&&e("tr",{children:t("td",{colSpan:"7",className:"px-6 py-8 text-center text-gray-500",children:[e(E,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e("p",{children:"No staff members found"}),e("p",{className:"text-sm",children:0===n.length?"No staff working under turf owners":"Try adjusting your search or filters"})]})})]})]})})}),t(w,{isOpen:m,onRequestClose:()=>u(!1),className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-hidden outline-none",overlayClassName:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:[e("div",{className:"p-6 border-b border-gray-200",children:e("h2",{className:"text-2xl font-bold text-gray-900",children:x?"Edit Staff Member":"Add New Staff Member"})}),t("form",{onSubmit:async e=>{e.preventDefault();try{x?(await dt(x.id,j),ne.success("Staff updated successfully!")):(await ct(j),ne.success("Staff added successfully!")),u(!1),y(null),P({staff_name:"",email:"",phone:"",position:"",salary:"",shift_timing:""}),M()}catch(t){ne.error("Operation failed")}},className:"p-6 space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e("input",{type:"text",value:j.staff_name,onChange:e=>P({...j,staff_name:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e("input",{type:"email",value:j.email,onChange:e=>P({...j,email:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),e("input",{type:"tel",value:j.phone,onChange:e=>P({...j,phone:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position"}),t("select",{value:j.position,onChange:e=>P({...j,position:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e("option",{value:"",children:"Select Position"}),e("option",{value:"Ground Keeper",children:"Ground Keeper"}),e("option",{value:"Receptionist",children:"Receptionist"}),e("option",{value:"Security Guard",children:"Security Guard"}),e("option",{value:"Cleaner",children:"Cleaner"}),e("option",{value:"Manager",children:"Manager"})]})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Salary (â‚¹)"}),e("input",{type:"number",value:j.salary,onChange:e=>P({...j,salary:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shift Timing"}),e("input",{type:"text",value:j.shift_timing,onChange:e=>P({...j,shift_timing:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 9:00 AM - 6:00 PM",required:!0})]})]}),t("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e("button",{type:"button",onClick:()=>u(!1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),e("button",{type:"submit",className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium",children:x?"Update Staff":"Add Staff"})]})]})]}),e(w,{isOpen:p,onRequestClose:()=>f(!1),className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-hidden outline-none",overlayClassName:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:x&&t(o,{children:[e("div",{className:"p-6 border-b border-gray-200",children:t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:e("span",{className:"text-2xl font-bold text-blue-600",children:null==(l=x.staff_name||x.name)?void 0:l.charAt(0)})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-gray-900",children:x.staff_name||x.name}),e("p",{className:"text-gray-600",children:x.position})]})]})}),e("div",{className:"p-6 space-y-6",children:t("div",{className:"grid grid-cols-2 gap-6",children:[t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),e("p",{className:"text-gray-900",children:x.email})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),e("p",{className:"text-gray-900",children:x.phone})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Monthly Salary"}),t("p",{className:"text-gray-900 font-medium",children:["â‚¹",x.salary]})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Shift Timing"}),e("p",{className:"text-gray-900",children:x.shift_timing})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Turf Owner"}),e("p",{className:"text-gray-900",children:(null==(r=x.owner)?void 0:r.name)||"N/A"})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),e("span",{className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full "+(x.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:x.status?"active":"inactive"})]})]})}),t("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[e("button",{onClick:()=>{f(!1),O(x)},className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium",children:"Edit Staff"}),e("button",{onClick:()=>f(!1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Close"})]})]})})]})})},na=()=>{const[l,r]=te.useState([]),[n,i]=te.useState(!0),[s,o]=te.useState(""),[c,d]=te.useState("all"),[m,u]=te.useState(1),[h,g]=te.useState(1),[f,x]=te.useState({});te.useEffect(()=>{y(),N()},[m,s,c]);const y=async()=>{try{i(!0);const e=await et({page:m,search:s,status:c,per_page:10});r(e.data.data),g(e.data.last_page)}catch(e){ce.error("Failed to fetch subscriptions")}finally{i(!1)}},N=async()=>{try{const e=await lt();x(e.data)}catch(e){}},w=t=>{switch(t){case"active":return e(b,{className:"w-4 h-4 text-green-500"});case"expired":return e(v,{className:"w-4 h-4 text-orange-500"});case"cancelled":return e(I,{className:"w-4 h-4 text-red-500"});default:return e(v,{className:"w-4 h-4 text-gray-500"})}},_=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"expired":return"bg-orange-100 text-orange-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return t("div",{className:"space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:t("div",{className:"flex items-center",children:[e("div",{className:"p-2 bg-blue-100 rounded-lg",children:e(q,{className:"w-6 h-6 text-blue-600"})}),t("div",{className:"ml-4",children:[e("p",{className:"text-sm font-medium text-gray-600",children:"Total Subscriptions"}),e("p",{className:"text-2xl font-bold text-gray-900",children:f.total||0})]})]})}),e("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:t("div",{className:"flex items-center",children:[e("div",{className:"p-2 bg-green-100 rounded-lg",children:e(b,{className:"w-6 h-6 text-green-600"})}),t("div",{className:"ml-4",children:[e("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),e("p",{className:"text-2xl font-bold text-gray-900",children:f.active||0})]})]})}),e("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:t("div",{className:"flex items-center",children:[e("div",{className:"p-2 bg-orange-100 rounded-lg",children:e(v,{className:"w-6 h-6 text-orange-600"})}),t("div",{className:"ml-4",children:[e("p",{className:"text-sm font-medium text-gray-600",children:"Expired"}),e("p",{className:"text-2xl font-bold text-gray-900",children:f.expired||0})]})]})}),e("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:t("div",{className:"flex items-center",children:[e("div",{className:"p-2 bg-purple-100 rounded-lg",children:e(q,{className:"w-6 h-6 text-purple-600"})}),t("div",{className:"ml-4",children:[e("p",{className:"text-sm font-medium text-gray-600",children:"Monthly Revenue"}),t("p",{className:"text-2xl font-bold text-gray-900",children:["â‚¹",f.monthly_revenue||0]})]})]})})]}),e("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:t("div",{className:"flex flex-col sm:flex-row gap-4",children:[e("div",{className:"flex-1",children:t("div",{className:"relative",children:[e(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Search by user name...",value:s,onChange:e=>o(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),t("div",{className:"flex items-center space-x-2",children:[e(S,{className:"w-5 h-5 text-gray-400"}),t("select",{value:c,onChange:e=>d(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e("option",{value:"all",children:"All Status"}),e("option",{value:"active",children:"Active"}),e("option",{value:"expired",children:"Expired"}),e("option",{value:"cancelled",children:"Cancelled"})]})]})]})}),t("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e("div",{className:"px-6 py-4 border-b border-gray-200",children:e("h3",{className:"text-lg font-semibold text-gray-900",children:"Subscriptions"})}),n?e("div",{className:"flex justify-center items-center h-64",children:e("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):0===l.length?t("div",{className:"text-center py-12",children:[e(q,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e("p",{className:"text-gray-500",children:"No subscriptions found"})]}):e("div",{className:"overflow-x-auto",children:t("table",{className:"min-w-full divide-y divide-gray-200",children:[e("thead",{className:"bg-gray-50",children:t("tr",{children:[e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((l,r)=>{var n,i,s,o,c;return t(a.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r},className:"hover:bg-gray-50",children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"flex items-center",children:[e("div",{className:"flex-shrink-0 h-10 w-10",children:e("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:e("span",{className:"text-sm font-medium text-blue-600",children:(null==(i=null==(n=l.user)?void 0:n.name)?void 0:i.charAt(0))||"U"})})}),t("div",{className:"ml-4",children:[e("div",{className:"text-sm font-medium text-gray-900",children:(null==(s=l.user)?void 0:s.name)||"Unknown User"}),e("div",{className:"text-sm text-gray-500",children:null==(o=l.user)?void 0:o.email})]})]})}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[e("div",{className:"text-sm font-medium text-gray-900",children:null==(c=l.revenue_model)?void 0:c.name}),e("div",{className:"text-sm text-gray-500",children:l.billing_cycle})]}),e("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t("div",{className:"flex items-center",children:[e(p,{className:"w-4 h-4 mr-2 text-gray-400"}),t("div",{children:[e("div",{children:new Date(l.start_date).toLocaleDateString()}),t("div",{className:"text-gray-500",children:["to ",new Date(l.end_date).toLocaleDateString()]})]})]})}),t("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["â‚¹",l.amount]}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"flex items-center",children:[w(l.status),e("span",{className:`ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_(l.status)}`,children:l.status})]})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t("div",{className:"flex items-center space-x-2",children:[t("select",{value:l.status,onChange:e=>(async(e,t)=>{try{await tt(e,{status:t}),ce.success("Subscription status updated"),y()}catch(a){ce.error("Failed to update subscription")}})(l.id,e.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",children:[e("option",{value:"active",children:"Active"}),e("option",{value:"expired",children:"Expired"}),e("option",{value:"cancelled",children:"Cancelled"})]}),e("button",{onClick:()=>(async e=>{if((await de.fire({title:"Delete Subscription?",text:"This action cannot be undone",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Delete"})).isConfirmed)try{await at(e),ce.success("Subscription deleted"),y()}catch(t){ce.error("Failed to delete subscription")}})(l.id),className:"text-red-600 hover:text-red-900 p-1",title:"Delete",children:e(A,{className:"w-4 h-4"})})]})})]},l.id)})})]})}),h>1&&e("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex-1 flex justify-between sm:hidden",children:[e("button",{onClick:()=>u(Math.max(1,m-1)),disabled:1===m,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),e("button",{onClick:()=>u(Math.min(h,m+1)),disabled:m===h,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),t("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e("div",{children:t("p",{className:"text-sm text-gray-700",children:["Page ",e("span",{className:"font-medium",children:m})," of"," ",e("span",{className:"font-medium",children:h})]})}),e("div",{children:t("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e("button",{onClick:()=>u(Math.max(1,m-1)),disabled:1===m,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),e("button",{onClick:()=>u(Math.min(h,m+1)),disabled:m===h,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})})]})]})})]})]})},ia=()=>{var l;const{user:n}=yt(),[i,s]=te.useState({name:"",email:"",phone:"",currentPassword:"",newPassword:"",confirmPassword:""}),[o,c]=te.useState(!1);te.useEffect(()=>{n&&s({name:n.name||"",email:n.email||"",phone:n.phone||"",currentPassword:"",newPassword:"",confirmPassword:""})},[n]);return e("div",{className:"h-full bg-gray-50/30 overflow-auto",children:e("div",{className:"max-w-4xl mx-auto p-6",children:t(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[t("div",{className:"flex items-center space-x-3 mb-6",children:[e(r,{className:"w-6 h-6 text-blue-600"}),e("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile Settings"})]}),t("form",{onSubmit:async e=>{e.preventDefault(),c(!0);try{await new Promise(e=>setTimeout(e,1e3)),ce.success("Profile updated successfully!")}catch(t){ce.error("Failed to update profile")}finally{c(!1)}},className:"space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e("input",{type:"text",value:i.name,onChange:e=>s({...i,name:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e("input",{type:"email",value:i.email,onChange:e=>s({...i,email:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e("input",{type:"tel",value:i.phone,onChange:e=>s({...i,phone:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),e("input",{type:"text",value:(null==(l=null==n?void 0:n.role)?void 0:l.replace("_"," "))||"",className:"w-full border border-gray-300 rounded-lg px-4 py-3 bg-gray-50 text-gray-500",disabled:!0})]})]}),t("div",{className:"border-t pt-6",children:[e("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),e("input",{type:"password",value:i.currentPassword,onChange:e=>s({...i,currentPassword:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),e("input",{type:"password",value:i.newPassword,onChange:e=>s({...i,newPassword:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),e("input",{type:"password",value:i.confirmPassword,onChange:e=>s({...i,confirmPassword:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e("div",{className:"flex justify-end",children:t("button",{type:"submit",disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center space-x-2",children:[o?e("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e(U,{className:"w-4 h-4"}),e("span",{children:o?"Saving...":"Save Changes"})]})})]})]})})})},sa=()=>{const[l,r]=te.useState({notifications:{email:!0,push:!1,sms:!0},security:{twoFactor:!1,sessionTimeout:30},system:{theme:"light",language:"en",timezone:"Asia/Kolkata"}}),n=(e,t,a)=>{r(l=>({...l,[e]:{...l[e],[t]:a}})),ce.success("Setting updated")};return e("div",{className:"h-full bg-gray-50/30 overflow-auto",children:e("div",{className:"max-w-4xl mx-auto p-6",children:t(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[t("div",{className:"flex items-center space-x-3 mb-6",children:[e(x,{className:"w-6 h-6 text-blue-600"}),e("h1",{className:"text-2xl font-bold text-gray-900",children:"System Settings"})]}),t("div",{className:"space-y-8",children:[t("div",{children:[t("div",{className:"flex items-center space-x-2 mb-4",children:[e(K,{className:"w-5 h-5 text-gray-600"}),e("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"})]}),t("div",{className:"space-y-3",children:[t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-gray-700",children:"Email Notifications"}),t("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",checked:l.notifications.email,onChange:e=>n("notifications","email",e.target.checked),className:"sr-only peer"}),e("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-gray-700",children:"Push Notifications"}),t("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",checked:l.notifications.push,onChange:e=>n("notifications","push",e.target.checked),className:"sr-only peer"}),e("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-gray-700",children:"SMS Notifications"}),t("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",checked:l.notifications.sms,onChange:e=>n("notifications","sms",e.target.checked),className:"sr-only peer"}),e("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),t("div",{children:[t("div",{className:"flex items-center space-x-2 mb-4",children:[e(G,{className:"w-5 h-5 text-gray-600"}),e("h3",{className:"text-lg font-semibold text-gray-900",children:"Security"})]}),t("div",{className:"space-y-3",children:[t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-gray-700",children:"Two-Factor Authentication"}),t("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",checked:l.security.twoFactor,onChange:e=>n("security","twoFactor",e.target.checked),className:"sr-only peer"}),e("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-gray-700",children:"Session Timeout (minutes)"}),t("select",{value:l.security.sessionTimeout,onChange:e=>n("security","sessionTimeout",parseInt(e.target.value)),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e("option",{value:15,children:"15 minutes"}),e("option",{value:30,children:"30 minutes"}),e("option",{value:60,children:"1 hour"}),e("option",{value:120,children:"2 hours"})]})]})]})]}),t("div",{children:[t("div",{className:"flex items-center space-x-2 mb-4",children:[e(Y,{className:"w-5 h-5 text-gray-600"}),e("h3",{className:"text-lg font-semibold text-gray-900",children:"System"})]}),t("div",{className:"space-y-3",children:[t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-gray-700",children:"Theme"}),t("select",{value:l.system.theme,onChange:e=>n("system","theme",e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e("option",{value:"light",children:"Light"}),e("option",{value:"dark",children:"Dark"}),e("option",{value:"auto",children:"Auto"})]})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-gray-700",children:"Language"}),t("select",{value:l.system.language,onChange:e=>n("system","language",e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e("option",{value:"en",children:"English"}),e("option",{value:"hi",children:"Hindi"}),e("option",{value:"mr",children:"Marathi"})]})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-gray-700",children:"Timezone"}),t("select",{value:l.system.timezone,onChange:e=>n("system","timezone",e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e("option",{value:"Asia/Kolkata",children:"Asia/Kolkata"}),e("option",{value:"Asia/Mumbai",children:"Asia/Mumbai"}),e("option",{value:"Asia/Delhi",children:"Asia/Delhi"})]})]})]})]})]})]})})})},oa=()=>{const a=fe();return e(St,{activeTab:(()=>{switch(a.pathname.split("/")[2]){case"owners":return"owners";case"turfs":return"turfs";case"staff":return"staff";case"subscription":return"subscription";case"revenue":return"revenue";case"players":return"players";default:return"dashboard"}})(),children:t(ye,{children:[e(be,{path:"/",element:e(pe,{to:"/admin/dashboard",replace:!0})}),e(be,{path:"/dashboard",element:e(aa,{})}),e(be,{path:"/owners",element:e(Xt,{})}),e(be,{path:"/turfs",element:e(la,{})}),e(be,{path:"/staff",element:e(ra,{})}),e(be,{path:"/subscription",element:e(na,{})}),e(be,{path:"/revenue",element:e(Zt,{})}),e(be,{path:"/players",element:e(ta,{})}),e(be,{path:"/profile",element:e(ia,{})}),e(be,{path:"/settings",element:e(sa,{})})]})})},ca=()=>{const[a,r]=te.useState({revenue:[],bookings:[],userGrowth:[],turfUtilization:[]}),[n,i]=te.useState("30"),[s,o]=te.useState(!0);te.useEffect(()=>{c()},[n]);const c=async()=>{try{o(!0);const e=await $e.getAdvancedAnalytics({days:n});r(e.data)}catch(e){r({revenue:[],bookings:[],userGrowth:[],turfUtilization:[]})}finally{o(!1)}},d=["#0088FE","#00C49F","#FFBB28","#FF8042"];return s?e("div",{className:"flex justify-center items-center h-64",children:"Loading analytics..."}):t("div",{className:"space-y-6",children:[t("div",{className:"flex justify-between items-center",children:[e("h2",{className:"text-2xl font-bold",children:"Advanced Analytics"}),t("div",{className:"flex gap-4",children:[t("select",{value:n,onChange:e=>i(e.target.value),className:"border rounded px-3 py-2",children:[e("option",{value:"7",children:"Last 7 days"}),e("option",{value:"30",children:"Last 30 days"}),e("option",{value:"90",children:"Last 90 days"}),e("option",{value:"365",children:"Last year"})]}),t("button",{onClick:()=>{const e=JSON.stringify(a,null,2),t=new Blob([e],{type:"application/json"}),l=URL.createObjectURL(t),r=document.createElement("a");r.href=l,r.download=`analytics-${(new Date).toISOString().split("T")[0]}.json`,r.click()},className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:[e(H,{size:16}),"Export"]})]})]}),t("div",{className:"bg-white p-6 rounded-lg shadow",children:[t("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e(B,{className:"text-green-600",size:20}),"Revenue Trend"]}),e(Ne,{width:"100%",height:300,children:t(Oe,{data:a.revenue,children:[e(_e,{strokeDasharray:"3 3"}),e(ke,{dataKey:"date"}),e(Se,{}),e(Ce,{formatter:e=>[`â‚¹${e}`,"Revenue"]}),e(Be,{type:"monotone",dataKey:"amount",stroke:"#8884d8",strokeWidth:2})]})})]}),t("div",{className:"bg-white p-6 rounded-lg shadow",children:[t("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e(p,{className:"text-blue-600",size:20}),"Booking Patterns"]}),e(Ne,{width:"100%",height:300,children:t(Te,{data:a.bookings,children:[e(_e,{strokeDasharray:"3 3"}),e(ke,{dataKey:"hour"}),e(Se,{}),e(Ce,{}),e(Fe,{dataKey:"count",fill:"#8884d8"})]})})]}),t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t("div",{className:"bg-white p-6 rounded-lg shadow",children:[t("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e(g,{className:"text-purple-600",size:20}),"User Growth"]}),e(Ne,{width:"100%",height:250,children:t(Oe,{data:a.userGrowth,children:[e(_e,{strokeDasharray:"3 3"}),e(ke,{dataKey:"month"}),e(Se,{}),e(Ce,{}),e(Be,{type:"monotone",dataKey:"users",stroke:"#82ca9d",strokeWidth:2})]})})]}),t("div",{className:"bg-white p-6 rounded-lg shadow",children:[t("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e(l,{className:"text-orange-600",size:20}),"Turf Utilization"]}),e(Ne,{width:"100%",height:250,children:t(je,{children:[e(Pe,{data:a.turfUtilization,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:a.turfUtilization.map((t,a)=>e(Me,{fill:d[a%d.length]},`cell-${a}`))}),e(Ce,{})]})})]})]})]})};w.setAppElement("#root");const da=()=>{var r,n,i,d,m,u;const[f,x]=te.useState(!1),[b,v]=te.useState(!1);kt(1);const[_,k]=te.useState({turf_id:"",player_name:"",player_phone:"",date:"",time_slot:"",duration:"2",amount:""}),[S,C]=te.useState([]),[A,j]=te.useState({revenue:[],bookings:[],performance:[],bookingStatus:[],onlineVsOffline:[]}),[P,M]=te.useState([]),[T,F]=te.useState({}),[O,E]=te.useState({revenue_model:{name:"Free Plan"}}),[D,L]=te.useState(!1);te.useState(!0);const[$,V]=te.useState(!1);te.useEffect(()=>{q()},[]);const q=async()=>{var e,t,a;try{const[l,r,n,i,s]=await Promise.all([ut(),nt({per_page:10,include:"turf,player"}),Ze().catch(()=>({data:{subscription:{revenue_model:{name:"Free Plan"}}}})),ht("/turfs").catch(()=>({data:{data:[]}})),ht("/turf-stats").catch(()=>({data:{total_turfs:0,active_turfs:0,inactive_turfs:0}}))]),o=l.data||{},c=s.data||{};F({...o,my_turfs:c.total_turfs||0,active_turfs:c.active_turfs||0,inactive_turfs:c.inactive_turfs||0}),M((null==(e=r.data)?void 0:e.data)||[]);const d=null==(t=n.data)?void 0:t.subscription;E(d||{revenue_model:{name:"Free Plan"}}),C((null==(a=i.data)?void 0:a.data)||[])}catch(l){F({my_turfs:0,active_turfs:0,inactive_turfs:0,my_bookings:0,monthly_earnings:0,my_staff:0,online_bookings:0,offline_bookings:0,pending_bookings:0,confirmed_bookings:0,cancelled_bookings:0}),E({revenue_model:{name:"Free Plan"}}),C([])}};te.useEffect(()=>{j({revenue:[{month:"Jan",online:15e3,offline:8e3,total:23e3},{month:"Feb",online:18e3,offline:12e3,total:3e4},{month:"Mar",online:22e3,offline:15e3,total:37e3},{month:"Apr",online:25e3,offline:18e3,total:43e3},{month:"May",online:28e3,offline:22e3,total:5e4},{month:"Jun",online:32e3,offline:25e3,total:57e3}],bookings:[{name:"Football",value:60,color:"#3B82F6"},{name:"Cricket",value:25,color:"#10B981"},{name:"Basketball",value:15,color:"#F59E0B"}],performance:[{day:"Mon",online:5,offline:3,total:8},{day:"Tue",online:8,offline:4,total:12},{day:"Wed",online:6,offline:4,total:10},{day:"Thu",online:9,offline:6,total:15},{day:"Fri",online:11,offline:7,total:18},{day:"Sat",online:14,offline:8,total:22},{day:"Sun",online:12,offline:8,total:20}],bookingStatus:[{name:"Confirmed",value:35,color:"#10B981"},{name:"Pending",value:5,color:"#F59E0B"},{name:"Cancelled",value:5,color:"#EF4444"}],onlineVsOffline:[{name:"Online",value:28,color:"#3B82F6"},{name:"Offline",value:17,color:"#8B5CF6"}]}),I()},[T]);const I=()=>{j({revenue:[{month:"Jan",online:Math.floor(.6*(T.monthly_earnings||0)),offline:Math.floor(.4*(T.monthly_earnings||0)),total:T.monthly_earnings||0},{month:"Feb",online:Math.floor(.65*(T.monthly_earnings||0)),offline:Math.floor(.35*(T.monthly_earnings||0)),total:T.monthly_earnings||0},{month:"Mar",online:Math.floor(.7*(T.monthly_earnings||0)),offline:Math.floor(.3*(T.monthly_earnings||0)),total:T.monthly_earnings||0},{month:"Apr",online:Math.floor(.68*(T.monthly_earnings||0)),offline:Math.floor(.32*(T.monthly_earnings||0)),total:T.monthly_earnings||0},{month:"May",online:Math.floor(.72*(T.monthly_earnings||0)),offline:Math.floor(.28*(T.monthly_earnings||0)),total:T.monthly_earnings||0},{month:"Jun",online:Math.floor(.75*(T.monthly_earnings||0)),offline:Math.floor(.25*(T.monthly_earnings||0)),total:T.monthly_earnings||0}],bookings:[{name:"Football",value:60,color:"#3B82F6"},{name:"Cricket",value:25,color:"#10B981"},{name:"Basketball",value:15,color:"#F59E0B"}],performance:[{day:"Mon",online:Math.floor((T.online_bookings||0)/7),offline:Math.floor((T.offline_bookings||0)/7),total:Math.floor((T.my_bookings||0)/7)},{day:"Tue",online:Math.floor((T.online_bookings||0)/7),offline:Math.floor((T.offline_bookings||0)/7),total:Math.floor((T.my_bookings||0)/7)},{day:"Wed",online:Math.floor((T.online_bookings||0)/7),offline:Math.floor((T.offline_bookings||0)/7),total:Math.floor((T.my_bookings||0)/7)},{day:"Thu",online:Math.floor((T.online_bookings||0)/7),offline:Math.floor((T.offline_bookings||0)/7),total:Math.floor((T.my_bookings||0)/7)},{day:"Fri",online:Math.floor((T.online_bookings||0)/7),offline:Math.floor((T.offline_bookings||0)/7),total:Math.floor((T.my_bookings||0)/7)},{day:"Sat",online:Math.floor((T.online_bookings||0)/7),offline:Math.floor((T.offline_bookings||0)/7),total:Math.floor((T.my_bookings||0)/7)},{day:"Sun",online:Math.floor((T.online_bookings||0)/7),offline:Math.floor((T.offline_bookings||0)/7),total:Math.floor((T.my_bookings||0)/7)}],bookingStatus:[{name:"Confirmed",value:T.confirmed_bookings||0,color:"#10B981"},{name:"Pending",value:T.pending_bookings||0,color:"#F59E0B"},{name:"Cancelled",value:T.cancelled_bookings||0,color:"#EF4444"}],onlineVsOffline:[{name:"Online",value:T.online_bookings||0,color:"#3B82F6"},{name:"Offline",value:T.offline_bookings||0,color:"#8B5CF6"}]})};te.useEffect(()=>{(()=>{const e=S.find(e=>e.id===parseInt(_.turf_id));if(e&&_.duration){const t=(e.price_per_hour||2e3)*parseInt(_.duration);k(e=>({...e,amount:t.toString()}))}})()},[_.turf_id,_.duration]);const U=({title:l,value:r,change:n,icon:i,color:s,trend:o})=>e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-2},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-all duration-300",children:t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("p",{className:"text-sm font-medium text-gray-600",children:l}),e("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e(Ht,{end:r,duration:2})}),t("div",{className:"flex items-center mt-2",children:["up"===o?e(R,{className:"w-4 h-4 text-green-500"}):e(z,{className:"w-4 h-4 text-red-500"}),t("span",{className:"text-sm font-medium ml-1 "+("up"===o?"text-green-600":"text-red-600"),children:[n,"%"]}),e("span",{className:"text-sm text-gray-500 ml-1",children:"vs last month"})]})]}),e("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${s}`,children:e(i,{className:"w-6 h-6 text-white"})})]})});return e("div",{className:"h-full bg-gray-50/30 overflow-auto",children:t("div",{className:"p-6 space-y-6",children:[t(a.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[t("div",{children:[e("h1",{className:"text-3xl font-bold text-gray-900",children:"Business Overview"}),e("p",{className:"text-gray-600 mt-1",children:"Monitor your turf performance and growth"})]}),t("div",{className:"flex items-center space-x-3",children:[("Free Plan"===(null==(r=null==O?void 0:O.revenue_model)?void 0:r.name)||!O)&&t("div",{className:"flex items-center space-x-2 bg-orange-50 text-orange-700 px-3 py-2 rounded-lg border border-orange-200",children:[e(N,{size:16}),e("span",{className:"text-sm font-medium",children:"Free Plan - Limited Features"}),e("button",{onClick:()=>L(!0),className:"ml-2 bg-orange-600 hover:bg-orange-700 text-white px-3 py-1 rounded text-xs font-medium transition-colors",children:"Upgrade"})]}),t("select",{className:"bg-white border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e("option",{children:"Last 30 days"}),e("option",{children:"Last 7 days"}),e("option",{children:"Last 90 days"})]}),t("button",{onClick:()=>v(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center space-x-2",children:[e(s,{size:16}),e("span",{children:"Advanced Analytics"})]})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6",children:[e(U,{title:"Total Turfs",value:T.my_turfs||0,change:5.2,icon:h,color:"bg-blue-500",trend:"up"}),e(U,{title:"Active Turfs",value:T.active_turfs||0,change:3.1,icon:h,color:"bg-green-500",trend:"up"}),e(U,{title:"Inactive Turfs",value:T.inactive_turfs||0,change:-1.2,icon:h,color:"bg-red-500",trend:"down"}),e(U,{title:"Total Bookings",value:T.my_bookings||0,change:12.8,icon:p,color:"bg-purple-500",trend:"up"}),"Free Plan"!==(null==(n=null==O?void 0:O.revenue_model)?void 0:n.name)&&O&&t(o,{children:[e(U,{title:"Online Bookings",value:T.online_bookings||0,change:15.3,icon:W,color:"bg-indigo-500",trend:"up"}),e(U,{title:"Offline Bookings",value:T.offline_bookings||0,change:8.7,icon:J,color:"bg-orange-500",trend:"up"})]}),e(U,{title:"Monthly Revenue",value:T.monthly_earnings||0,change:8.5,icon:B,color:"bg-emerald-500",trend:"up"}),"Free Plan"!==(null==(i=null==O?void 0:O.revenue_model)?void 0:i.name)&&O&&e(U,{title:"Staff Members",value:T.my_staff||0,change:-2.1,icon:g,color:"bg-yellow-500",trend:"down"})]}),"Free Plan"!==(null==(d=null==O?void 0:O.revenue_model)?void 0:d.name)&&O&&t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t(a.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("div",{children:[e("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Breakdown"}),e("p",{className:"text-sm text-gray-600",children:"Online vs Offline revenue"})]}),e(l,{className:"w-5 h-5 text-green-500"})]}),e(Ne,{width:"100%",height:300,children:t(we,{data:A.revenue,children:[t("defs",{children:[t("linearGradient",{id:"colorOnline",x1:"0",y1:"0",x2:"0",y2:"1",children:[e("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),e("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]}),t("linearGradient",{id:"colorOffline",x1:"0",y1:"0",x2:"0",y2:"1",children:[e("stop",{offset:"5%",stopColor:"#8B5CF6",stopOpacity:.3}),e("stop",{offset:"95%",stopColor:"#8B5CF6",stopOpacity:0})]})]}),e(_e,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e(ke,{dataKey:"month",stroke:"#6b7280",fontSize:12}),e(Se,{stroke:"#6b7280",fontSize:12}),e(Ce,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),e(Ae,{type:"monotone",dataKey:"online",stackId:"1",stroke:"#3B82F6",fill:"url(#colorOnline)"}),e(Ae,{type:"monotone",dataKey:"offline",stackId:"1",stroke:"#8B5CF6",fill:"url(#colorOffline)"})]})}),t("div",{className:"flex justify-center gap-6 mt-4",children:[t("div",{className:"flex items-center",children:[e("div",{className:"w-3 h-3 rounded-full mr-2 bg-blue-500"}),e("span",{className:"text-sm text-gray-600",children:"Online"})]}),t("div",{className:"flex items-center",children:[e("div",{className:"w-3 h-3 rounded-full mr-2 bg-purple-500"}),e("span",{className:"text-sm text-gray-600",children:"Offline"})]})]})]}),t(a.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("div",{children:[e("h3",{className:"text-lg font-semibold text-gray-900",children:"Booking Status"}),e("p",{className:"text-sm text-gray-600",children:"Current booking status"})]}),e(y,{className:"w-5 h-5 text-blue-500"})]}),e(Ne,{width:"100%",height:300,children:t(je,{children:[e(Pe,{data:A.bookingStatus,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:A.bookingStatus.map((t,a)=>e(Me,{fill:t.color},`cell-${a}`))}),e(Ce,{})]})}),e("div",{className:"flex flex-wrap justify-center gap-4 mt-4",children:A.bookingStatus.map((a,l)=>t("div",{className:"flex items-center",children:[e("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:a.color}}),e("span",{className:"text-sm text-gray-600",children:a.name})]},l))})]})]}),t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("div",{children:[e("h3",{className:"text-lg font-semibold text-gray-900",children:"Daily Bookings"}),e("p",{className:"text-sm text-gray-600",children:"Online vs Offline bookings"})]}),e(p,{className:"w-5 h-5 text-purple-500"})]}),e(Ne,{width:"100%",height:300,children:t(Te,{data:A.performance,children:[e(_e,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e(ke,{dataKey:"day",stroke:"#6b7280",fontSize:12}),e(Se,{stroke:"#6b7280",fontSize:12}),e(Ce,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),e(Fe,{dataKey:"online",fill:"#3B82F6",radius:[4,4,0,0]}),e(Fe,{dataKey:"offline",fill:"#8B5CF6",radius:[4,4,0,0]})]})}),t("div",{className:"flex justify-center gap-6 mt-4",children:[t("div",{className:"flex items-center",children:[e("div",{className:"w-3 h-3 rounded-full mr-2 bg-blue-500"}),e("span",{className:"text-sm text-gray-600",children:"Online"})]}),t("div",{className:"flex items-center",children:[e("div",{className:"w-3 h-3 rounded-full mr-2 bg-purple-500"}),e("span",{className:"text-sm text-gray-600",children:"Offline"})]})]})]}),t(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("div",{children:[e("h3",{className:"text-lg font-semibold text-gray-900",children:"Booking Source"}),e("p",{className:"text-sm text-gray-600",children:"Online vs Offline distribution"})]}),e(W,{className:"w-5 h-5 text-indigo-500"})]}),e(Ne,{width:"100%",height:300,children:t(je,{children:[e(Pe,{data:A.onlineVsOffline,cx:"50%",cy:"50%",innerRadius:80,outerRadius:120,paddingAngle:5,dataKey:"value",children:A.onlineVsOffline.map((t,a)=>e(Me,{fill:t.color},`cell-${a}`))}),e(Ce,{})]})}),e("div",{className:"flex justify-center gap-6 mt-4",children:A.onlineVsOffline.map((a,l)=>t("div",{className:"flex items-center",children:[e("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:a.color}}),t("span",{className:"text-sm text-gray-600",children:[a.name," (",a.value,")"]})]},l))})]})]}),"Free Plan"!==(null==(m=null==O?void 0:O.revenue_model)?void 0:m.name)&&O&&t(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[t("div",{className:"px-6 py-4 border-b border-gray-100",children:[e("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Bookings"}),e("p",{className:"text-sm text-gray-600",children:"Latest booking activities with source tracking"})]}),e("div",{className:"overflow-x-auto",children:t("table",{className:"min-w-full",children:[e("thead",{className:"bg-gray-50",children:t("tr",{children:[e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Turf"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Schedule"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map((l,r)=>{var n,i;return t(a.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*r},className:"hover:bg-gray-50 transition-colors",children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"flex items-center",children:[e("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e(h,{className:"w-5 h-5 text-blue-600"})}),e("div",{className:"ml-4",children:e("div",{className:"text-sm font-medium text-gray-900",children:null==(n=l.turf)?void 0:n.turf_name})})]})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:null==(i=l.player)?void 0:i.name}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[e("div",{className:"text-sm text-gray-900",children:new Date(l.date).toLocaleDateString()}),e("div",{className:"text-sm text-gray-500",children:l.time})]}),t("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:["â‚¹",l.amount]}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"flex items-center",children:["online"===l.booking_type?e(W,{className:"w-4 h-4 text-blue-500 mr-1"}):e(J,{className:"w-4 h-4 text-purple-500 mr-1"}),e("span",{className:"text-xs font-medium "+("online"===l.booking_type?"text-blue-600":"text-purple-600"),children:l.booking_type})]})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full "+("confirmed"===l.status?"bg-green-100 text-green-800":"pending"===l.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:l.status})})]},l.id)})})]})})]}),(null==(u=null==O?void 0:O.revenue_model)?void 0:u.name)&&!O.revenue_model.name.includes("Free")&&t(w,{isOpen:f,onRequestClose:()=>x(!1),className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-hidden outline-none",overlayClassName:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:[t("div",{className:"p-6 border-b border-gray-200",children:[e("h2",{className:"text-2xl font-bold text-gray-900",children:"Add Offline Booking"}),e("p",{className:"text-gray-600 mt-1",children:"Create a walk-in booking"})]}),t("form",{onSubmit:async e=>{e.preventDefault();try{V(!0),await it({..._,booking_type:"offline"}),ne.success("Offline booking created successfully!"),x(!1),k({turf_id:"",player_name:"",player_phone:"",date:"",time_slot:"",duration:"2",amount:""}),q()}catch(t){ne.error("Failed to create booking")}finally{V(!1)}},className:"p-6 space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Turf"}),t("select",{value:_.turf_id,onChange:e=>k({..._,turf_id:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e("option",{value:"",children:"Choose Turf"}),S.map(e=>t("option",{value:e.id,children:[e.turf_name," - â‚¹",e.price_per_hour||2e3,"/hr"]},e.id))]})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player Name"}),e("input",{type:"text",value:_.player_name,onChange:e=>k({..._,player_name:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter player name",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e("input",{type:"tel",value:_.player_phone,onChange:e=>k({..._,player_phone:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter phone number",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),e("input",{type:"date",value:_.date,onChange:e=>k({..._,date:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",min:(new Date).toISOString().split("T")[0],required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Slot"}),t("select",{value:_.time_slot,onChange:e=>k({..._,time_slot:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e("option",{value:"",children:"Select Time"}),e("option",{value:"06:00-08:00",children:"6:00 AM - 8:00 AM"}),e("option",{value:"08:00-10:00",children:"8:00 AM - 10:00 AM"}),e("option",{value:"10:00-12:00",children:"10:00 AM - 12:00 PM"}),e("option",{value:"14:00-16:00",children:"2:00 PM - 4:00 PM"}),e("option",{value:"16:00-18:00",children:"4:00 PM - 6:00 PM"}),e("option",{value:"18:00-20:00",children:"6:00 PM - 8:00 PM"}),e("option",{value:"20:00-22:00",children:"8:00 PM - 10:00 PM"})]})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (Hours)"}),t("select",{value:_.duration,onChange:e=>k({..._,duration:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e("option",{value:"1",children:"1 Hour"}),e("option",{value:"2",children:"2 Hours"}),e("option",{value:"3",children:"3 Hours"}),e("option",{value:"4",children:"4 Hours"})]})]})]}),_.amount&&e("div",{className:"bg-blue-50 p-4 rounded-lg",children:t("div",{className:"flex justify-between items-center",children:[e("span",{className:"text-sm font-medium text-gray-700",children:"Total Amount:"}),t("span",{className:"text-lg font-bold text-blue-600",children:["â‚¹",_.amount]})]})}),t("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e("button",{type:"button",onClick:()=>x(!1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),e("button",{type:"submit",disabled:$,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium disabled:opacity-50",children:$?"Creating...":"Create Booking"})]})]})]}),D&&e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e("h3",{className:"text-lg font-bold mb-4",children:"Upgrade Your Plan"}),e("p",{className:"text-gray-600 mb-4",children:"Unlock premium features with a paid subscription."}),t("div",{className:"flex space-x-3",children:[e("button",{onClick:()=>L(!1),className:"flex-1 bg-gray-200 text-gray-700 py-2 rounded-lg",children:"Cancel"}),e("button",{onClick:()=>window.location.href="/owner/subscription",className:"flex-1 bg-blue-600 text-white py-2 rounded-lg",children:"View Plans"})]})]})}),t(w,{isOpen:b,onRequestClose:()=>v(!1),className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[95vh] overflow-hidden outline-none",overlayClassName:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:[t("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[e("h2",{className:"text-2xl font-bold text-gray-900",children:"Advanced Analytics"}),e("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:e(c,{size:24})})]}),e("div",{className:"p-6 overflow-y-auto max-h-[80vh]",children:e(ca,{})})]})]})})};w.setAppElement("#root");const ma=()=>{const[l,r]=te.useState(!1),[n,i]=te.useState(!1),[o,c]=te.useState(null),[d,m]=te.useState(1),[u,p]=te.useState(""),[f,x]=te.useState("all"),[y,b]=te.useState({turf_name:"",location:"",capacity:"",hourly_rate:"",sport_type:"",facilities:"",description:""}),v=Qt(u,500);te.useMemo(()=>({page:d,search:v,status:f}),[d,v,f]);const[N,S]=te.useState([]),[j,P]=te.useState(1),[M,T]=te.useState({total:0,active:0,inactive:0});useEffect(()=>{F()},[d,v,f]);const F=async()=>{var e,t,a,l,r,n,i;try{B(!0);const s=await qe({page:d,search:v,status:f,per_page:10});S((null==(e=s.data)?void 0:e.data)||[]),P((null==(a=null==(t=s.data)?void 0:t.meta)?void 0:a.last_page)||1),T({total:(null==(r=null==(l=s.data)?void 0:l.meta)?void 0:r.total)||0,active:((null==(n=s.data)?void 0:n.data)||[]).filter(e=>!0===e.status).length,inactive:((null==(i=s.data)?void 0:i.data)||[]).filter(e=>!1===e.status).length})}catch(s){S([]),T({total:0,active:0,inactive:0})}finally{B(!1)}},[O,B]=te.useState(!1),E=({title:l,value:r,icon:n,color:i})=>e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("p",{className:"text-sm font-medium text-gray-600",children:l}),e("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e(Ht,{end:r,duration:1})})]}),e("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${i}`,children:e(n,{className:"w-6 h-6 text-white"})})]})});return e("div",{className:"h-full bg-gray-50/30 overflow-auto",children:t("div",{className:"p-6 space-y-6",children:[t(a.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[t("div",{children:[e("h1",{className:"text-3xl font-bold text-gray-900",children:"My Turfs"}),e("p",{className:"text-gray-600 mt-1",children:"Manage your turf properties"})]}),t("button",{onClick:()=>{c(null),b({turf_name:"",location:"",capacity:"",hourly_rate:"",sport_type:"",facilities:"",description:""}),r(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[e(_,{size:16}),e("span",{children:"Add Turf"})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e(E,{title:"Total Turfs",value:M.total,icon:h,color:"bg-blue-500"}),e(E,{title:"Active Turfs",value:M.active,icon:h,color:"bg-green-500"}),e(E,{title:"Inactive Turfs",value:M.inactive,icon:h,color:"bg-red-500"})]}),e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"relative",children:[e(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e("input",{type:"text",placeholder:"Search turfs...",value:u,onChange:e=>p(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t("select",{value:f,onChange:e=>x(e.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e("option",{value:"all",children:"All Status"}),e("option",{value:"active",children:"Active"}),e("option",{value:"inactive",children:"Inactive"})]})]})}),e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e("div",{className:"overflow-x-auto",children:t("table",{className:"min-w-full",children:[e("thead",{className:"bg-gray-50",children:t("tr",{children:[e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Turf"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Details"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Performance"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map((l,n)=>t(a.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*n},className:"hover:bg-gray-50",children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"flex items-center",children:[e("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e(h,{className:"w-5 h-5 text-blue-600"})}),t("div",{className:"ml-4",children:[e("div",{className:"text-sm font-medium text-gray-900",children:l.turf_name}),t("div",{className:"text-sm text-gray-500 flex items-center",children:[e(L,{className:"w-3 h-3 mr-1"}),l.location]})]})]})}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[t("div",{className:"text-sm text-gray-900",children:["â‚¹",l.hourly_rate,"/hour"]}),t("div",{className:"text-sm text-gray-500 flex items-center",children:[e(g,{className:"w-3 h-3 mr-1"}),l.capacity," players"]})]}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[t("div",{className:"text-sm font-medium text-gray-900",children:[l.bookings_count," bookings"]}),e("div",{className:"text-sm text-gray-500",children:l.sport_type})]}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("span",{className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full "+(l.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:l.status?"active":"inactive"})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>(e=>{c(e),i(!0)})(l),className:"text-blue-600 hover:text-blue-900 p-1 rounded",children:e(s,{size:16})}),e("button",{onClick:()=>(e=>{b({turf_name:e.turf_name,location:e.location,capacity:e.capacity,hourly_rate:e.hourly_rate,sport_type:e.sport_type,facilities:e.facilities||"",description:e.description||""}),c(e),r(!0)})(l),className:"text-green-600 hover:text-green-900 p-1 rounded",children:e(C,{size:16})}),e("button",{onClick:()=>(async(e,t)=>{if((await de.fire({title:"Delete Turf",html:`Are you sure you want to delete <strong>${t}</strong>?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ft(`/turfs/${e}`),ne.success("Turf deleted successfully!"),F()}catch(a){ne.error("Failed to delete turf")}})(l.id,l.turf_name),className:"text-red-600 hover:text-red-900 p-1 rounded",children:e(A,{size:16})})]})})]},l.id))})]})})}),t(w,{isOpen:l,onRequestClose:()=>r(!1),className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[95vh] overflow-hidden outline-none",overlayClassName:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:[e("div",{className:"p-6 border-b border-gray-200",children:e("h2",{className:"text-2xl font-bold text-gray-900",children:o?"Edit Turf":"Add New Turf"})}),t("form",{onSubmit:async e=>{var t,a;e.preventDefault(),B(!0);try{const e={turf_name:y.turf_name,location:y.location,capacity:parseInt(y.capacity),price_per_hour:parseFloat(y.hourly_rate),sport_type:y.sport_type,facilities:y.facilities,description:y.description};o?(await gt(`/turfs/${o.id}`,e),ne.success("Turf updated successfully!")):(await pt("/turfs",e),ne.success("Turf created successfully!")),r(!1),c(null),b({turf_name:"",location:"",capacity:"",hourly_rate:"",sport_type:"",facilities:"",description:""}),F()}catch(l){ne.error((null==(a=null==(t=l.response)?void 0:t.data)?void 0:a.message)||"Failed to save turf")}finally{B(!1)}},className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Turf Name"}),e("input",{type:"text",value:y.turf_name,onChange:e=>b({...y,turf_name:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),e("input",{type:"text",value:y.location,onChange:e=>b({...y,location:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity"}),e("input",{type:"number",value:y.capacity,onChange:e=>b({...y,capacity:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hourly Rate (â‚¹)"}),e("input",{type:"number",value:y.hourly_rate,onChange:e=>b({...y,hourly_rate:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sport Type"}),t("select",{value:y.sport_type,onChange:e=>b({...y,sport_type:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e("option",{value:"",children:"Select Sport"}),e("option",{value:"Football",children:"Football"}),e("option",{value:"Cricket",children:"Cricket"}),e("option",{value:"Basketball",children:"Basketball"}),e("option",{value:"Tennis",children:"Tennis"})]})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Facilities"}),e("input",{type:"text",value:y.facilities,onChange:e=>b({...y,facilities:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Parking, Changing Room"})]})]}),t("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e("button",{type:"button",onClick:()=>r(!1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),t("button",{type:"submit",disabled:O,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium disabled:opacity-50 flex items-center",children:[O&&e("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),o?"Update Turf":"Create Turf"]})]})]})]})]})})},ua=({isOpen:l,onClose:n,turfs:i=[]})=>{const[s,d]=te.useState({turf_id:"",booking_plan:"single",date:"",start_time:"",end_time:"",customer_name:"",customer_phone:"",customer_email:"",amount:"",advance_amount:"",plan_duration:1,recurring_days:[],notes:""}),[m,u]=te.useState([]),[h,g]=te.useState(!1),[f,x]=te.useState(!1);te.useEffect(()=>{s.turf_id&&s.date&&y()},[s.turf_id,s.date]);const y=async()=>{try{x(!0);const e=await ht(`/turfs/${s.turf_id}/available-slots?date=${s.date}`);u(e.data.slots||[])}catch(e){ce.error("Failed to fetch available slots")}finally{x(!1)}},b=(e,t)=>{if(d(a=>({...a,[e]:t})),"amount"===e||"advance_amount"===e){const a="amount"===e?parseFloat(t)||0:parseFloat(s.amount)||0,l="advance_amount"===e?parseFloat(t)||0:parseFloat(s.advance_amount)||0;d(e=>({...e,remaining_amount:Math.max(0,a-l)}))}};return l?e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e("div",{className:"p-6 border-b border-gray-200",children:t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("h2",{className:"text-2xl font-bold text-gray-900",children:"Add Offline Booking"}),e("p",{className:"text-gray-600 text-sm",children:"Create a new booking for walk-in customers"})]}),e("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e(c,{className:"w-6 h-6"})})]})}),t("form",{onSubmit:async e=>{var t,a;e.preventDefault(),g(!0);try{await pt("/bookings",{...s,booking_type:"offline"}),ce.success("Offline booking created successfully!"),n(),d({turf_id:"",booking_plan:"single",date:"",start_time:"",end_time:"",customer_name:"",customer_phone:"",customer_email:"",amount:"",advance_amount:"",plan_duration:1,recurring_days:[],notes:""}),window.location.pathname.includes("bookings")&&window.location.reload()}catch(l){ce.error((null==(a=null==(t=l.response)?void 0:t.data)?void 0:a.message)||"Failed to create booking")}finally{g(!1)}},className:"p-6",children:[t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t("div",{className:"space-y-6",children:[t("div",{children:[t("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e(p,{className:"w-4 h-4 inline mr-1"}),"Select Turf"]}),t("select",{value:s.turf_id,onChange:e=>b("turf_id",e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Choose a turf"}),i.map(e=>t("option",{value:e.id,children:[e.turf_name," - ",e.location]},e.id))]})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Booking Plan"}),e("div",{className:"grid grid-cols-2 gap-3",children:[{value:"single",label:"Single Day",description:"One-time booking"},{value:"daily",label:"Daily Plan",description:"Consecutive days"},{value:"weekly",label:"Weekly Plan",description:"Specific days each week"},{value:"monthly",label:"Monthly Plan",description:"Full month access"}].map(a=>t("button",{type:"button",onClick:()=>b("booking_plan",a.value),className:"p-3 border-2 rounded-lg text-left transition-all "+(s.booking_plan===a.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[e("div",{className:"font-medium text-sm",children:a.label}),e("div",{className:"text-xs text-gray-500",children:a.description})]},a.value))})]}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),e("input",{type:"date",value:s.date,onChange:e=>b("date",e.target.value),min:(new Date).toISOString().split("T")[0],className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),"single"!==s.booking_plan&&t("div",{children:[t("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Duration (","daily"===s.booking_plan?"days":"weekly"===s.booking_plan?"weeks":"months",")"]}),e("input",{type:"number",value:s.plan_duration,onChange:e=>b("plan_duration",parseInt(e.target.value)),min:"1",max:"daily"===s.booking_plan?"30":"weekly"===s.booking_plan?"12":"6",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),"weekly"===s.booking_plan&&t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Days"}),e("div",{className:"flex space-x-2",children:[{value:0,label:"Sun"},{value:1,label:"Mon"},{value:2,label:"Tue"},{value:3,label:"Wed"},{value:4,label:"Thu"},{value:5,label:"Fri"},{value:6,label:"Sat"}].map(t=>e("button",{type:"button",onClick:()=>(e=>{d(t=>({...t,recurring_days:t.recurring_days.includes(e)?t.recurring_days.filter(t=>t!==e):[...t.recurring_days,e]}))})(t.value),className:"px-3 py-2 rounded-lg text-sm font-medium transition-colors "+(s.recurring_days.includes(t.value)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:t.label},t.value))})]}),t("div",{className:"space-y-4",children:[t("h3",{className:"font-medium text-gray-900 flex items-center",children:[e(r,{className:"w-4 h-4 mr-2"}),"Customer Information"]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e("input",{type:"text",value:s.customer_name,onChange:e=>b("customer_name",e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter customer name",required:!0})]}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e("input",{type:"tel",value:s.customer_phone,onChange:e=>b("customer_phone",e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+91 98765 43210",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (Optional)"}),e("input",{type:"email",value:s.customer_email,onChange:e=>b("customer_email",e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"customer@email.com"})]})]})]})]}),t("div",{className:"space-y-6",children:[t("div",{children:[t("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e(v,{className:"w-4 h-4 inline mr-1"}),"Available Time Slots"]}),f?t("div",{className:"text-center py-8",children:[e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e("p",{className:"text-gray-500 text-sm mt-2",children:"Loading slots..."})]}):m.length>0?e("div",{className:"grid grid-cols-2 gap-2 max-h-64 overflow-y-auto",children:m.map((a,l)=>t("button",{type:"button",disabled:!a.available,onClick:()=>{b("start_time",a.start_time),b("end_time",a.end_time)},className:"p-3 rounded-lg text-sm font-medium transition-all "+(s.start_time===a.start_time?"bg-blue-600 text-white":a.available?"bg-green-50 text-green-700 border border-green-200 hover:bg-green-100":"bg-red-50 text-red-400 border border-red-200 cursor-not-allowed"),children:[a.display,!a.available&&e("div",{className:"text-xs mt-1",children:"Booked"})]},l))}):t("div",{className:"text-center py-8 text-gray-500",children:[e(v,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),e("p",{children:"Select turf and date to view available slots"})]})]}),t("div",{className:"space-y-4",children:[t("h3",{className:"font-medium text-gray-900 flex items-center",children:[e(q,{className:"w-4 h-4 mr-2"}),"Payment Details"]}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount"}),e("input",{type:"number",value:s.amount,onChange:e=>b("amount",e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",min:"0",step:"0.01",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Advance Paid"}),e("input",{type:"number",value:s.advance_amount,onChange:e=>b("advance_amount",e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",min:"0",step:"0.01"})]})]}),s.amount&&s.advance_amount&&e("div",{className:"bg-blue-50 p-3 rounded-lg",children:e("div",{className:"text-sm text-blue-800",children:t("strong",{children:["Remaining Amount: â‚¹",(parseFloat(s.amount)-parseFloat(s.advance_amount)).toFixed(2)]})})})]}),t("div",{children:[t("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e(Q,{className:"w-4 h-4 inline mr-1"}),"Notes (Optional)"]}),e("textarea",{value:s.notes,onChange:e=>b("notes",e.target.value),rows:"3",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any special requirements or notes..."})]})]})]}),t("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:[e("button",{type:"button",onClick:n,className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),e("button",{type:"submit",disabled:h||!s.turf_id||!s.date||!s.start_time||!s.customer_name,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:t(o,h?{children:[e("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}:{children:[e(O,{className:"w-4 h-4 mr-2"}),"Create Booking"]})})]})]})]})}):null};w.setAppElement("#root");const ha=()=>{var l,r;const[n,i]=te.useState(!1),[c,d]=te.useState(!1),[m,u]=te.useState(null),[g,f]=te.useState(""),[x,y]=te.useState("all"),[N,S]=te.useState("all"),[C,A]=te.useState([]),[j,P]=te.useState([]),[M,T]=te.useState(!0);te.useEffect(()=>{F()},[]);const F=async()=>{var e,t;try{T(!0);const[a,l]=await Promise.all([ht("/bookings?include=turf,player").catch(()=>({data:{data:[]}})),ht("/turfs").catch(()=>({data:{data:[]}}))]);A((null==(e=a.data)?void 0:e.data)||[]),P((null==(t=l.data)?void 0:t.data)||[])}catch(a){}finally{T(!1)}},O=te.useMemo(()=>({total:C.length,confirmed:C.filter(e=>"confirmed"===e.status).length,pending:C.filter(e=>"pending"===e.status).length,cancelled:C.filter(e=>"cancelled"===e.status).length,revenue:C.filter(e=>"confirmed"===e.status).reduce((e,t)=>e+t.amount,0)}),[C]),B=te.useMemo(()=>C.filter(e=>{var t,a;const l=(null==(t=e.player)?void 0:t.name)||e.customer_name||"",r=(null==(a=e.turf)?void 0:a.turf_name)||"",n=l.toLowerCase().includes(g.toLowerCase())||r.toLowerCase().includes(g.toLowerCase()),i="all"===x||e.status===x,s="all"===N||"today"===N&&new Date(e.date).toDateString()===(new Date).toDateString()||"week"===N&&new Date(e.date)>=new Date(Date.now()-6048e5);return n&&i&&s}),[C,g,x,N]),E=async(e,t)=>{try{await gt(`/bookings/${e}`,{status:t}),ne.success(`Booking ${t} successfully!`),F()}catch(a){ne.error("Failed to update booking status")}},D=({title:l,value:r,icon:n,color:i,prefix:s=""})=>e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("p",{className:"text-sm font-medium text-gray-600",children:l}),t("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[s,e(Ht,{end:r,duration:1})]})]}),e("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${i}`,children:e(n,{className:"w-6 h-6 text-white"})})]})}),R=e=>{switch(e){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e("div",{className:"h-full bg-gray-50/30 overflow-auto",children:t("div",{className:"p-6 space-y-6",children:[t(a.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[t("div",{children:[e("h1",{className:"text-3xl font-bold text-gray-900",children:"Booking Management"}),e("p",{className:"text-gray-600 mt-1",children:"Manage all turf bookings and reservations"})]}),t("button",{onClick:()=>d(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[e(_,{className:"w-5 h-5"}),e("span",{children:"Add Offline Booking"})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[e(D,{title:"Total Bookings",value:O.total,icon:p,color:"bg-blue-500"}),e(D,{title:"Confirmed",value:O.confirmed,icon:b,color:"bg-green-500"}),e(D,{title:"Pending",value:O.pending,icon:v,color:"bg-yellow-500"}),e(D,{title:"Cancelled",value:O.cancelled,icon:I,color:"bg-red-500"}),e(D,{title:"Revenue",value:O.revenue,icon:h,color:"bg-purple-500",prefix:"â‚¹"})]}),e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:e("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"relative",children:[e(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e("input",{type:"text",placeholder:"Search bookings...",value:g,onChange:e=>f(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t("select",{value:x,onChange:e=>y(e.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e("option",{value:"all",children:"All Status"}),e("option",{value:"confirmed",children:"Confirmed"}),e("option",{value:"pending",children:"Pending"}),e("option",{value:"cancelled",children:"Cancelled"})]}),t("select",{value:N,onChange:e=>S(e.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e("option",{value:"all",children:"All Dates"}),e("option",{value:"today",children:"Today"}),e("option",{value:"week",children:"This Week"})]})]})})}),e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e("div",{className:"overflow-x-auto",children:t("table",{className:"min-w-full",children:[e("thead",{className:"bg-gray-50",children:t("tr",{children:[e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Booking Details"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Player"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Schedule"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:M?e("tr",{children:t("td",{colSpan:"6",className:"px-6 py-12 text-center",children:[e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e("p",{className:"text-gray-500 mt-2",children:"Loading bookings..."})]})}):0===B.length?e("tr",{children:e("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:"No bookings found"})}):B.map((l,r)=>{var n,c,d;return t(a.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*r},className:"hover:bg-gray-50",children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"flex items-center",children:[e("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+("offline"===l.booking_type?"bg-purple-100":"bg-blue-100"),children:e(h,{className:"w-5 h-5 "+("offline"===l.booking_type?"text-purple-600":"text-blue-600")})}),t("div",{className:"ml-4",children:[e("div",{className:"text-sm font-medium text-gray-900",children:(null==(n=l.turf)?void 0:n.turf_name)||"N/A"}),t("div",{className:"text-sm text-gray-500",children:["#",l.id," â€¢ ",l.booking_plan||"single"," â€¢ ",l.booking_type||"online"]})]})]})}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[e("div",{className:"text-sm font-medium text-gray-900",children:(null==(c=l.player)?void 0:c.name)||l.customer_name||"N/A"}),e("div",{className:"text-sm text-gray-500",children:(null==(d=l.player)?void 0:d.phone)||l.customer_phone||"N/A"})]}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[t("div",{className:"text-sm text-gray-900 flex items-center",children:[e(p,{className:"w-4 h-4 mr-1"}),new Date(l.date).toLocaleDateString()]}),t("div",{className:"text-sm text-gray-500 flex items-center",children:[e(v,{className:"w-4 h-4 mr-1"}),l.start_time&&l.end_time?`${l.start_time}-${l.end_time}`:l.time||"N/A"]})]}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[t("div",{className:"text-sm font-medium text-gray-900",children:["â‚¹",l.amount||0]}),e("div",{className:"text-sm text-gray-500",children:l.advance_amount>0?`Advance: â‚¹${l.advance_amount}`:"Full Payment"})]}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${R(l.status)}`,children:l.status})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>(e=>{u(e),i(!0)})(l),className:"text-blue-600 hover:text-blue-900 p-1 rounded",children:e(s,{size:16})}),"pending"===l.status&&t(o,{children:[e("button",{onClick:()=>E(l.id,"confirmed"),className:"text-green-600 hover:text-green-900 p-1 rounded",children:e(b,{size:16})}),e("button",{onClick:()=>E(l.id,"cancelled"),className:"text-red-600 hover:text-red-900 p-1 rounded",children:e(I,{size:16})})]})]})})]},l.id)})})]})})}),e(w,{isOpen:n,onRequestClose:()=>i(!1),className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-hidden outline-none",overlayClassName:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:m&&t(o,{children:[t("div",{className:"p-6 border-b border-gray-200",children:[e("h2",{className:"text-2xl font-bold text-gray-900",children:"Booking Details"}),t("p",{className:"text-gray-600",children:["#",m.id]})]}),e("div",{className:"p-6 space-y-6",children:t("div",{className:"grid grid-cols-2 gap-6",children:[t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Turf"}),e("p",{className:"text-gray-900 font-medium",children:(null==(l=m.turf)?void 0:l.turf_name)||"N/A"})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Customer"}),e("p",{className:"text-gray-900 font-medium",children:(null==(r=m.player)?void 0:r.name)||m.customer_name||"N/A"})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Date"}),e("p",{className:"text-gray-900",children:new Date(m.date).toLocaleDateString()})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Time"}),e("p",{className:"text-gray-900",children:m.start_time&&m.end_time?`${m.start_time} - ${m.end_time}`:m.time||"N/A"})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Booking Plan"}),e("p",{className:"text-gray-900 capitalize",children:m.booking_plan||"single"})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Type"}),e("p",{className:"text-gray-900 capitalize",children:m.booking_type||"online"})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Total Amount"}),t("p",{className:"text-gray-900 font-medium",children:["â‚¹",m.amount||0]})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),e("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${R(m.status)}`,children:m.status})]}),m.advance_amount>0&&t(o,{children:[t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Advance Paid"}),t("p",{className:"text-gray-900",children:["â‚¹",m.advance_amount]})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Remaining"}),t("p",{className:"text-gray-900",children:["â‚¹",m.remaining_amount||0]})]})]}),m.notes&&t("div",{className:"col-span-2",children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Notes"}),e("p",{className:"text-gray-900",children:m.notes})]})]})}),e("div",{className:"p-6 border-t border-gray-200 flex justify-end",children:e("button",{onClick:()=>i(!1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Close"})})]})}),e(ua,{isOpen:c,onClose:()=>{d(!1)},turfs:j})]})})};w.setAppElement("#root");const pa=()=>{var l;const[r,n]=te.useState(!1),[i,c]=te.useState(!1),[d,m]=te.useState(null),[u,h]=te.useState(""),[p,f]=te.useState("all"),[x,y]=te.useState({staff_name:"",email:"",phone:"",position:"",salary:"",shift_timing:""}),b={data:[{id:1,staff_name:"Rajesh Kumar",email:"rajesh@example.com",phone:"9876543210",position:"Ground Keeper",salary:25e3,shift_timing:"6:00 AM - 2:00 PM",status:"active",hire_date:"2023-06-15"},{id:2,staff_name:"Priya Sharma",email:"priya@example.com",phone:"9876543211",position:"Receptionist",salary:22e3,shift_timing:"9:00 AM - 6:00 PM",status:"active",hire_date:"2023-08-20"},{id:3,staff_name:"Amit Singh",email:"amit@example.com",phone:"9876543212",position:"Security Guard",salary:2e4,shift_timing:"6:00 PM - 6:00 AM",status:"inactive",hire_date:"2023-05-10"},{id:4,staff_name:"Neha Gupta",email:"neha@example.com",phone:"9876543213",position:"Cleaner",salary:18e3,shift_timing:"7:00 AM - 3:00 PM",status:"active",hire_date:"2023-09-05"}]},v=(null==b?void 0:b.data)||[],N=te.useMemo(()=>({total:v.length,active:v.filter(e=>"active"===e.status).length,inactive:v.filter(e=>"inactive"===e.status).length,totalSalary:v.filter(e=>"active"===e.status).reduce((e,t)=>e+t.salary,0)}),[v]),S=te.useMemo(()=>v.filter(e=>{const t=e.staff_name.toLowerCase().includes(u.toLowerCase())||e.position.toLowerCase().includes(u.toLowerCase()),a="all"===p||e.status===p;return t&&a}),[v,u,p]),j=e=>{y({staff_name:e.staff_name,email:e.email,phone:e.phone,position:e.position,salary:e.salary,shift_timing:e.shift_timing}),m(e),n(!0)},P=({title:l,value:r,icon:n,color:i,prefix:s=""})=>e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("p",{className:"text-sm font-medium text-gray-600",children:l}),t("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[s,e(Ht,{end:r,duration:1})]})]}),e("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${i}`,children:e(n,{className:"w-6 h-6 text-white"})})]})});return e("div",{className:"h-full bg-gray-50/30 overflow-auto",children:t("div",{className:"p-6 space-y-6",children:[t(a.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[t("div",{children:[e("h1",{className:"text-3xl font-bold text-gray-900",children:"Staff Management"}),e("p",{className:"text-gray-600 mt-1",children:"Manage your turf staff members"})]}),t("button",{onClick:()=>{m(null),y({staff_name:"",email:"",phone:"",position:"",salary:"",shift_timing:""}),n(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[e(_,{size:16}),e("span",{children:"Add Staff"})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e(P,{title:"Total Staff",value:N.total,icon:g,color:"bg-blue-500"}),e(P,{title:"Active Staff",value:N.active,icon:E,color:"bg-green-500"}),e(P,{title:"Inactive Staff",value:N.inactive,icon:g,color:"bg-red-500"}),e(P,{title:"Monthly Payroll",value:N.totalSalary,icon:g,color:"bg-purple-500",prefix:"â‚¹"})]}),e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"relative",children:[e(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e("input",{type:"text",placeholder:"Search staff...",value:u,onChange:e=>h(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t("select",{value:p,onChange:e=>f(e.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e("option",{value:"all",children:"All Status"}),e("option",{value:"active",children:"Active"}),e("option",{value:"inactive",children:"Inactive"})]})]})}),e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e("div",{className:"overflow-x-auto",children:t("table",{className:"min-w-full",children:[e("thead",{className:"bg-gray-50",children:t("tr",{children:[e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Staff Member"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Contact"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Position"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Salary"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map((l,r)=>{var n;return t(a.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*r},className:"hover:bg-gray-50",children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"flex items-center",children:[e("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e("span",{className:"text-blue-600 font-semibold",children:null==(n=l.staff_name)?void 0:n.charAt(0)})}),t("div",{className:"ml-4",children:[e("div",{className:"text-sm font-medium text-gray-900",children:l.staff_name}),t("div",{className:"text-sm text-gray-500",children:["Since ",new Date(l.hire_date).getFullYear()]})]})]})}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[t("div",{className:"text-sm text-gray-900 flex items-center",children:[e($,{className:"w-4 h-4 mr-1"}),l.email]}),t("div",{className:"text-sm text-gray-500 flex items-center",children:[e(V,{className:"w-4 h-4 mr-1"}),l.phone]})]}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[e("div",{className:"text-sm font-medium text-gray-900",children:l.position}),e("div",{className:"text-sm text-gray-500",children:l.shift_timing})]}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[t("div",{className:"text-sm font-medium text-gray-900",children:["â‚¹",l.salary]}),e("div",{className:"text-sm text-gray-500",children:"per month"})]}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("button",{onClick:()=>((e,t)=>{const a="active"===t?"inactive":"active";ne.success(`Staff ${"active"===a?"activated":"deactivated"} successfully!`)})(l.id,l.status),className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full transition-colors "+("active"===l.status?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"),children:l.status})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>(e=>{m(e),c(!0)})(l),className:"text-blue-600 hover:text-blue-900 p-1 rounded",children:e(s,{size:16})}),e("button",{onClick:()=>j(l),className:"text-green-600 hover:text-green-900 p-1 rounded",children:e(C,{size:16})}),e("button",{onClick:()=>(async(e,t)=>{(await de.fire({title:"Remove Staff Member",html:`Are you sure you want to remove <strong>${t}</strong>?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, Remove",cancelButtonText:"Cancel"})).isConfirmed&&ne.success("Staff member removed successfully!")})(l.id,l.staff_name),className:"text-red-600 hover:text-red-900 p-1 rounded",children:e(A,{size:16})})]})})]},l.id)})})]})})}),t(w,{isOpen:r,onRequestClose:()=>n(!1),className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-hidden outline-none",overlayClassName:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:[e("div",{className:"p-6 border-b border-gray-200",children:e("h2",{className:"text-2xl font-bold text-gray-900",children:d?"Edit Staff Member":"Add New Staff Member"})}),t("form",{onSubmit:async e=>{e.preventDefault(),d?ne.success("Staff updated successfully!"):ne.success("Staff added successfully!"),n(!1),m(null),y({staff_name:"",email:"",phone:"",position:"",salary:"",shift_timing:""})},className:"p-6 space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e("input",{type:"text",value:x.staff_name,onChange:e=>y({...x,staff_name:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e("input",{type:"email",value:x.email,onChange:e=>y({...x,email:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),e("input",{type:"tel",value:x.phone,onChange:e=>y({...x,phone:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position"}),t("select",{value:x.position,onChange:e=>y({...x,position:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e("option",{value:"",children:"Select Position"}),e("option",{value:"Ground Keeper",children:"Ground Keeper"}),e("option",{value:"Receptionist",children:"Receptionist"}),e("option",{value:"Security Guard",children:"Security Guard"}),e("option",{value:"Cleaner",children:"Cleaner"}),e("option",{value:"Manager",children:"Manager"})]})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Salary (â‚¹)"}),e("input",{type:"number",value:x.salary,onChange:e=>y({...x,salary:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shift Timing"}),e("input",{type:"text",value:x.shift_timing,onChange:e=>y({...x,shift_timing:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 9:00 AM - 6:00 PM",required:!0})]})]}),t("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e("button",{type:"button",onClick:()=>n(!1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),e("button",{type:"submit",className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium",children:d?"Update Staff":"Add Staff"})]})]})]}),e(w,{isOpen:i,onRequestClose:()=>c(!1),className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-hidden outline-none",overlayClassName:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:d&&t(o,{children:[e("div",{className:"p-6 border-b border-gray-200",children:t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:e("span",{className:"text-2xl font-bold text-blue-600",children:null==(l=d.staff_name)?void 0:l.charAt(0)})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-gray-900",children:d.staff_name}),e("p",{className:"text-gray-600",children:d.position})]})]})}),e("div",{className:"p-6 space-y-6",children:t("div",{className:"grid grid-cols-2 gap-6",children:[t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),e("p",{className:"text-gray-900",children:d.email})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),e("p",{className:"text-gray-900",children:d.phone})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Monthly Salary"}),t("p",{className:"text-gray-900 font-medium",children:["â‚¹",d.salary]})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Shift Timing"}),e("p",{className:"text-gray-900",children:d.shift_timing})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Hire Date"}),e("p",{className:"text-gray-900",children:new Date(d.hire_date).toLocaleDateString()})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),e("span",{className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full "+(d.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:d.status?"active":"inactive"})]})]})}),t("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[e("button",{onClick:()=>{c(!1),j(d)},className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium",children:"Edit Staff"}),e("button",{onClick:()=>c(!1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Close"})]})]})})]})})},ga=({isOpen:l,onClose:r,plan:i,billingCycle:s,onSuccess:d,selectedModel:m,onPayment:u,onCancel:h,upgrading:p})=>{const[g,f]=te.useState({cardNumber:"",expiryDate:"",cvv:"",cardholderName:"",email:"",phone:""}),[x,y]=te.useState("card"),[v,N]=te.useState(!1),[w,_]=te.useState(!1),k=i||m,S="monthly"===s?k.monthly_fee:k.yearly_fee,C=(e,t)=>{f(a=>({...a,[e]:t}))};return e("div",w?{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:t(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl max-w-md w-full mx-4 p-8 text-center",children:[e(a.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e(b,{className:"w-8 h-8 text-green-600"})}),e("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),e("p",{className:"text-gray-600 mb-4",children:"Your subscription has been activated"}),e("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600 mx-auto"})]})}:{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:t(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e("div",{className:"p-6 border-b border-gray-200",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e(n,{className:"w-5 h-5 text-blue-600"})}),t("div",{children:[e("h3",{className:"text-xl font-bold text-gray-900",children:"Secure Payment"}),e("p",{className:"text-sm text-gray-600",children:"256-bit SSL encrypted"})]})]}),e("button",{onClick:r||h,className:"text-gray-400 hover:text-gray-600",children:e(c,{className:"w-6 h-6"})})]})}),t("div",{className:"p-6 bg-gray-50 border-b border-gray-200",children:[e("h4",{className:"font-semibold text-gray-900 mb-3",children:"Order Summary"}),t("div",{className:"space-y-2",children:[t("div",{className:"flex justify-between",children:[e("span",{className:"text-gray-600",children:"Plan:"}),e("span",{className:"font-medium",children:k.name})]}),t("div",{className:"flex justify-between",children:[e("span",{className:"text-gray-600",children:"Billing:"}),e("span",{className:"font-medium capitalize",children:s})]}),t("div",{className:"flex justify-between",children:[e("span",{className:"text-gray-600",children:"Duration:"}),e("span",{className:"font-medium",children:"monthly"===s?"1 Month":"12 Months"})]}),e("div",{className:"border-t pt-2 mt-2",children:t("div",{className:"flex justify-between text-lg font-bold",children:[e("span",{children:"Total Amount:"}),t("span",{className:"text-blue-600",children:["â‚¹",S]})]})})]})]}),t("form",{onSubmit:async e=>{e.preventDefault(),N(!0),await new Promise(e=>setTimeout(e,3e3)),N(!1),_(!0),setTimeout(()=>{const e={method:x,transaction_id:`TXN${Date.now()}`,amount:S,currency:"INR",card_last_four:g.cardNumber.slice(-4),timestamp:(new Date).toISOString(),gateway:"dummy_gateway",status:"completed"};d?d(e):u&&u(e)},2e3)},className:"p-6",children:[t("div",{className:"mb-6",children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Payment Method"}),t("div",{className:"grid grid-cols-3 gap-3",children:[t("button",{type:"button",onClick:()=>y("card"),className:"p-3 border-2 rounded-lg flex flex-col items-center space-y-1 transition-all "+("card"===x?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[e(q,{className:"w-5 h-5"}),e("span",{className:"text-xs font-medium",children:"Card"})]}),t("button",{type:"button",onClick:()=>y("upi"),className:"p-3 border-2 rounded-lg flex flex-col items-center space-y-1 transition-all "+("upi"===x?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[e("div",{className:"w-5 h-5 bg-orange-500 rounded text-white text-xs flex items-center justify-center font-bold",children:"â‚¹"}),e("span",{className:"text-xs font-medium",children:"UPI"})]}),t("button",{type:"button",onClick:()=>y("wallet"),className:"p-3 border-2 rounded-lg flex flex-col items-center space-y-1 transition-all "+("wallet"===x?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[e("div",{className:"w-5 h-5 bg-purple-500 rounded text-white text-xs flex items-center justify-center font-bold",children:"W"}),e("span",{className:"text-xs font-medium",children:"Wallet"})]})]})]}),"card"===x&&t("div",{className:"space-y-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number"}),e("input",{type:"text",placeholder:"1234 5678 9012 3456",value:(A=g.cardNumber,A.replace(/\s/g,"").replace(/(.{4})/g,"$1 ").trim()),onChange:e=>C("cardNumber",e.target.value.replace(/\s/g,"")),maxLength:"19",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),e("input",{type:"text",placeholder:"MM/YY",value:g.expiryDate,onChange:e=>C("expiryDate",e.target.value),maxLength:"5",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CVV"}),e("input",{type:"text",placeholder:"123",value:g.cvv,onChange:e=>C("cvv",e.target.value),maxLength:"4",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cardholder Name"}),e("input",{type:"text",placeholder:"John Doe",value:g.cardholderName,onChange:e=>C("cardholderName",e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),"upi"===x&&e("div",{className:"space-y-4",children:t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"UPI ID"}),e("input",{type:"text",placeholder:"yourname@paytm",value:g.upiId,onChange:e=>C("upiId",e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})}),"wallet"===x&&e("div",{className:"space-y-4",children:t("div",{className:"text-center py-8",children:[e("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e("div",{className:"w-8 h-8 bg-purple-500 rounded text-white text-sm flex items-center justify-center font-bold",children:"W"})}),e("h4",{className:"font-medium text-gray-900 mb-2",children:"Pay with Digital Wallet"}),e("p",{className:"text-sm text-gray-600",children:"You will be redirected to complete the payment"})]})}),e("div",{className:"space-y-4 mt-6 pt-6 border-t border-gray-200",children:t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e("input",{type:"email",placeholder:"john@example.com",value:g.email,onChange:e=>C("email",e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e("input",{type:"tel",placeholder:"+91 98765 43210",value:g.phone,onChange:e=>C("phone",e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]})}),t("div",{className:"flex space-x-3 mt-8",children:[e("button",{type:"button",onClick:r||h,className:"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Cancel"}),e("button",{type:"submit",disabled:v||p,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium disabled:opacity-50 transition-colors flex items-center justify-center space-x-2",children:t(o,v?{children:[e("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e("span",{children:"Processing..."})]}:{children:[e(n,{className:"w-4 h-4"}),t("span",{children:["Pay â‚¹",S]})]})})]}),e("div",{className:"mt-4 text-center",children:e("p",{className:"text-xs text-gray-500",children:"ðŸ”’ Your payment information is secure and encrypted"})})]})]})});var A},fa=()=>{var a;const[l,r]=te.useState(null),[n,i]=te.useState([]),[s,o]=te.useState(!0),[c,d]=te.useState(!1),[m,u]=te.useState(null),[p,x]=te.useState("monthly");te.useEffect(()=>{y()},[]);const y=async()=>{var t;try{o(!0);const a=await Ze().catch(()=>({data:{subscription:null}}));r((null==(t=a.data)?void 0:t.subscription)||{revenue_model:{name:"Free Plan",description:"Basic features"},status:"active",amount:0}),i([{id:1,name:"Free Starter",description:"Perfect for trying out our platform",monthly_fee:0,yearly_fee:0,commission_percentage:0,icon:e(g,{className:"w-5 h-5"}),color:"gray",is_popular:!1,features:[{name:"1 Turf Management",included:!0},{name:"10 Bookings/month",included:!0},{name:"Basic Analytics",included:!0},{name:"Email Support",included:!0},{name:"Mobile App Access",included:!1},{name:"Advanced Analytics",included:!1},{name:"Priority Support",included:!1},{name:"Custom Branding",included:!1}],limits:{turfs:"1",bookings:"10/month",staff:"1",support:"Email"}},{id:2,name:"Professional",description:"Full platform access with no commission",monthly_fee:999,yearly_fee:9999,commission_percentage:0,icon:e(h,{className:"w-5 h-5"}),color:"blue",is_popular:!1,features:[{name:"Unlimited Turfs",included:!0},{name:"Unlimited Bookings",included:!0},{name:"Advanced Analytics",included:!0},{name:"Mobile App Access",included:!0},{name:"Priority Support",included:!0},{name:"Custom Branding",included:!0},{name:"Staff Management",included:!0},{name:"Revenue Reports",included:!0}],limits:{turfs:"Unlimited",bookings:"Unlimited",staff:"Unlimited",support:"Priority"}},{id:3,name:"Growth Plus",description:"Best value with platform + commission model",monthly_fee:499,yearly_fee:4999,commission_percentage:5,icon:e(X,{className:"w-5 h-5"}),color:"green",is_popular:!0,features:[{name:"Unlimited Turfs",included:!0},{name:"Unlimited Bookings",included:!0},{name:"Premium Analytics",included:!0},{name:"Mobile App Access",included:!0},{name:"Priority Support",included:!0},{name:"Custom Branding",included:!0},{name:"Marketing Tools",included:!0},{name:"API Access",included:!0}],limits:{turfs:"Unlimited",bookings:"Unlimited",staff:"Unlimited",support:"Premium"}},{id:4,name:"Pay Per Success",description:"Pay only when you earn - no upfront costs",monthly_fee:0,yearly_fee:0,commission_percentage:10,icon:e(Z,{className:"w-5 h-5"}),color:"purple",is_popular:!1,features:[{name:"Unlimited Turfs",included:!0},{name:"Unlimited Bookings",included:!0},{name:"Standard Analytics",included:!0},{name:"Mobile App Access",included:!0},{name:"Standard Support",included:!0},{name:"Custom Branding",included:!1},{name:"Marketing Tools",included:!1},{name:"API Access",included:!1}],limits:{turfs:"Unlimited",bookings:"Unlimited",staff:"5",support:"Standard"}}])}catch(a){ce.error("Failed to load subscription data")}finally{o(!1)}},b=async(e=m,t=p,a=null)=>{try{await Xe({revenue_model_id:e.id,billing_cycle:t,payment_details:a||{method:"free"}}),ce.success(`Successfully subscribed to ${e.name}`),d(!1),y()}catch(l){throw ce.error("Failed to update subscription"),l}};if(s)return e("div",{className:"flex justify-center items-center h-64",children:e("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const v={gray:{bg:"bg-gray-50",border:"border-gray-200",button:"bg-gray-600 hover:bg-gray-700"},blue:{bg:"bg-blue-50",border:"border-blue-200",button:"bg-blue-600 hover:bg-blue-700"},green:{bg:"bg-green-50",border:"border-green-200",button:"bg-green-600 hover:bg-green-700"},purple:{bg:"bg-purple-50",border:"border-purple-200",button:"bg-purple-600 hover:bg-purple-700"}};return t("div",{className:"p-4 bg-gray-50 min-h-screen",children:[t("div",{className:"mb-6",children:[t("div",{className:"flex items-center justify-between mb-4",children:[t("div",{children:[e("h1",{className:"text-2xl font-bold text-gray-900",children:"Subscription Plans"}),e("p",{className:"text-gray-600 text-sm",children:"Choose the right plan for your business"})]}),l&&t("div",{className:"flex items-center bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm",children:[e(f,{className:"w-4 h-4 mr-1"}),e("span",{className:"font-medium",children:(null==(a=null==l?void 0:l.revenue_model)?void 0:a.name)||"Free Starter"})]})]}),t("div",{className:"flex items-center justify-center bg-white rounded-lg p-1 w-fit mx-auto",children:[e("button",{onClick:()=>x("monthly"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors "+("monthly"===p?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-900"),children:"Monthly"}),t("button",{onClick:()=>x("yearly"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors "+("yearly"===p?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-900"),children:["Yearly","yearly"===p&&e("span",{className:"ml-1 text-xs bg-green-500 text-white px-1 rounded",children:"Save 17%"})]})]})]}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:n.map(a=>{var r,n;const i="monthly"===p?a.monthly_fee:a.yearly_fee,s=null==(n=null==(r=null==l?void 0:l.revenue_model)?void 0:r.name)?void 0:n.includes(a.name.split(" ")[0]),o=v[a.color];return t("div",{className:"relative bg-white rounded-xl border-2 p-4 transition-all hover:shadow-md "+(a.is_popular?"border-green-500 shadow-md":s?"border-blue-500 shadow-md":"border-gray-200 hover:border-blue-300"),children:[t("div",{className:"flex justify-between items-start mb-3",children:[e("div",{className:"p-2 rounded-lg "+("gray"===a.color?"bg-gray-100 text-gray-600":"blue"===a.color?"bg-blue-100 text-blue-600":"green"===a.color?"bg-green-100 text-green-600":"bg-purple-100 text-purple-600"),children:a.icon}),a.is_popular&&e("span",{className:"bg-green-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Popular"}),s&&e("span",{className:"bg-blue-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Current"})]}),t("div",{className:"mb-4",children:[e("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:a.name}),e("p",{className:"text-gray-600 text-xs mb-3",children:a.description}),a.commission_percentage>0&&0===i?t("div",{className:"text-center",children:[t("div",{className:"text-2xl font-bold text-purple-600",children:[a.commission_percentage,"%"]}),e("div",{className:"text-xs text-gray-500",children:"commission"})]}):t("div",{className:"text-center",children:[t("div",{className:"text-2xl font-bold text-gray-900",children:["â‚¹",i]}),t("div",{className:"text-xs text-gray-500",children:["/","monthly"===p?"month":"year"]}),a.commission_percentage>0&&t("div",{className:"text-xs text-orange-600 mt-1",children:["+",a.commission_percentage,"% commission"]})]})]}),t("div",{className:"space-y-2 mb-4",children:[a.features.slice(0,4).map((a,l)=>t("div",{className:"flex items-center text-xs",children:[a.included?e(O,{className:"w-3 h-3 text-green-500 mr-2 flex-shrink-0"}):e("div",{className:"w-3 h-3 rounded-full border border-gray-300 mr-2 flex-shrink-0"}),e("span",{className:a.included?"text-gray-700":"text-gray-400",children:a.name})]},l)),a.features.length>4&&t("div",{className:"text-blue-600 text-xs font-medium",children:["+",a.features.length-4," more"]})]}),e("div",{className:"bg-gray-50 rounded-lg p-2 mb-4",children:t("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[t("div",{className:"text-gray-500",children:["Turfs: ",e("span",{className:"font-medium text-gray-700",children:a.limits.turfs})]}),t("div",{className:"text-gray-500",children:["Staff: ",e("span",{className:"font-medium text-gray-700",children:a.limits.staff})]})]})}),e("button",s?{className:"w-full py-2 px-3 rounded-lg text-gray-600 font-medium bg-gray-200 cursor-not-allowed text-sm",children:"Current Plan"}:{onClick:()=>((e,t)=>{"Free Plan"===e.name?b(e,t):(u(e),x(t),d(!0))})(a,p),className:`w-full py-2 px-3 rounded-lg text-white font-medium transition-colors text-sm ${o.button}`,children:0===i&&0===a.commission_percentage?"Start Free":"Select Plan"})]},a.id)})}),c&&m&&e(ga,{isOpen:c,onClose:()=>d(!1),plan:m,billingCycle:p,onSuccess:e=>{b(m,p,e)}})]})},xa=()=>{const a=fe();return e(St,{activeTab:(()=>{switch(a.pathname.split("/")[2]){case"turfs":return"turfs";case"bookings":return"bookings";case"staff":return"staff";case"subscription":return"subscription";default:return"dashboard"}})(),children:t(ye,{children:[e(be,{path:"/",element:e(pe,{to:"/owner/dashboard",replace:!0})}),e(be,{path:"/dashboard",element:e(da,{})}),e(be,{path:"/turfs",element:e(ma,{})}),e(be,{path:"/bookings",element:e(ha,{})}),e(be,{path:"/staff",element:e(pa,{})}),e(be,{path:"/subscription",element:e(fa,{})}),e(be,{path:"/profile",element:e(ia,{})}),e(be,{path:"/settings",element:e(sa,{})})]})})},ya=()=>{const[r,n]=te.useState({}),[i,s]=te.useState([]),[o,c]=te.useState(!0);te.useEffect(()=>{d()},[]);const d=async()=>{var e;try{const[t,a]=await Promise.all([ut(),nt({per_page:5,include:"turf"})]);n(t.data||{}),s((null==(e=a.data)?void 0:e.data)||[])}catch(t){n({total_bookings:0,today_bookings:0,pending_bookings:0,confirmed_bookings:0,cancelled_bookings:0,revenue_today:0})}finally{c(!1)}},m=({title:r,value:n,change:i,icon:s,color:o,trend:c,prefix:d=""})=>e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-2},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-all duration-300",children:t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("p",{className:"text-sm font-medium text-gray-600",children:r}),t("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[d,e(Ht,{end:n,duration:2})]}),i&&t("div",{className:"flex items-center mt-2",children:[e(l,{className:"w-4 h-4 "+("up"===c?"text-green-500":"text-red-500")}),t("span",{className:"text-sm font-medium ml-1 "+("up"===c?"text-green-600":"text-red-600"),children:[i,"%"]}),e("span",{className:"text-sm text-gray-500 ml-1",children:"vs yesterday"})]})]}),e("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${o}`,children:e(s,{className:"w-6 h-6 text-white"})})]})});return e("div",o?{className:"h-full bg-gray-50/30 flex items-center justify-center",children:e("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}:{className:"h-full bg-gray-50/30 overflow-auto",children:t("div",{className:"p-6 space-y-6",children:[t(a.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[t("div",{children:[e("h1",{className:"text-3xl font-bold text-gray-900",children:"Staff Dashboard"}),e("p",{className:"text-gray-600 mt-1",children:"Manage daily operations and bookings"})]}),t("div",{className:"text-right",children:[e("p",{className:"text-sm text-gray-500",children:"Today"}),e("p",{className:"text-lg font-semibold text-gray-900",children:(new Date).toLocaleDateString()})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e(m,{title:"Total Bookings",value:r.total_bookings||0,change:8.2,icon:p,color:"bg-blue-500",trend:"up"}),e(m,{title:"Today's Bookings",value:r.today_bookings||0,change:12.5,icon:v,color:"bg-purple-500",trend:"up"}),e(m,{title:"Confirmed",value:r.confirmed_bookings||0,change:5.8,icon:b,color:"bg-green-500",trend:"up"}),e(m,{title:"Pending",value:r.pending_bookings||0,change:-2.1,icon:v,color:"bg-yellow-500",trend:"down"}),e(m,{title:"Cancelled",value:r.cancelled_bookings||0,change:-15.3,icon:I,color:"bg-red-500",trend:"down"}),e(m,{title:"Today's Revenue",value:r.revenue_today||0,change:18.7,icon:B,color:"bg-emerald-500",trend:"up",prefix:"â‚¹"})]}),t(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[t("div",{className:"px-6 py-4 border-b border-gray-100",children:[e("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Bookings"}),e("p",{className:"text-sm text-gray-600",children:"Latest booking activities"})]}),e("div",{className:"overflow-x-auto",children:t("table",{className:"min-w-full",children:[e("thead",{className:"bg-gray-50",children:t("tr",{children:[e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Turf"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date & Time"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:0===i.length?e("tr",{children:e("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500",children:"No recent bookings found"})}):i.map((l,r)=>{var n;return t(a.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*r},className:"hover:bg-gray-50 transition-colors",children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("div",{className:"text-sm font-medium text-gray-900",children:(null==(n=l.turf)?void 0:n.turf_name)||"N/A"})}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[e("div",{className:"text-sm text-gray-900",children:l.customer_name||"N/A"}),e("div",{className:"text-sm text-gray-500",children:l.customer_phone||"N/A"})]}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[e("div",{className:"text-sm text-gray-900",children:new Date(l.date).toLocaleDateString()}),e("div",{className:"text-sm text-gray-500",children:l.start_time&&l.end_time?`${l.start_time}-${l.end_time}`:"N/A"})]}),t("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:["â‚¹",l.amount||0]}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full "+("confirmed"===l.status?"bg-green-100 text-green-800":"pending"===l.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:l.status})})]},l.id)})})]})})]})]})})};w.setAppElement("#root");const ba=()=>{var l;const[r,n]=te.useState([]),[i,c]=te.useState(!0),[d,m]=te.useState(""),[u,g]=te.useState("all"),[f,x]=te.useState(null),[y,N]=te.useState(!1);te.useEffect(()=>{_()},[]);const _=async()=>{var e;try{c(!0);const t=await nt({include:"turf,player"});n((null==(e=t.data)?void 0:e.data)||[])}catch(t){ne.error("Failed to fetch bookings")}finally{c(!1)}},S=async(e,t)=>{try{await st(e,{status:t}),ne.success(`Booking ${t} successfully!`),_()}catch(a){ne.error("Failed to update booking status")}},C=r.filter(e=>{var t,a,l;const r=(null==(t=e.customer_name)?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null==(l=null==(a=e.turf)?void 0:a.turf_name)?void 0:l.toLowerCase().includes(d.toLowerCase())),n="all"===u||e.status===u;return r&&n}),A={total:r.length,confirmed:r.filter(e=>"confirmed"===e.status).length,pending:r.filter(e=>"pending"===e.status).length,cancelled:r.filter(e=>"cancelled"===e.status).length},j=({title:l,value:r,icon:n,color:i})=>e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("p",{className:"text-sm font-medium text-gray-600",children:l}),e("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e(Ht,{end:r,duration:1})})]}),e("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${i}`,children:e(n,{className:"w-6 h-6 text-white"})})]})});return e("div",{className:"h-full bg-gray-50/30 overflow-auto",children:t("div",{className:"p-6 space-y-6",children:[t(a.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[e("h1",{className:"text-3xl font-bold text-gray-900",children:"Booking Management"}),e("p",{className:"text-gray-600 mt-1",children:"Manage turf bookings and reservations"})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e(j,{title:"Total Bookings",value:A.total,icon:p,color:"bg-blue-500"}),e(j,{title:"Confirmed",value:A.confirmed,icon:b,color:"bg-green-500"}),e(j,{title:"Pending",value:A.pending,icon:v,color:"bg-yellow-500"}),e(j,{title:"Cancelled",value:A.cancelled,icon:I,color:"bg-red-500"})]}),e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:e("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"relative",children:[e(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e("input",{type:"text",placeholder:"Search bookings...",value:d,onChange:e=>m(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t("select",{value:u,onChange:e=>g(e.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e("option",{value:"all",children:"All Status"}),e("option",{value:"confirmed",children:"Confirmed"}),e("option",{value:"pending",children:"Pending"}),e("option",{value:"cancelled",children:"Cancelled"})]})]})})}),e(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e("div",{className:"overflow-x-auto",children:t("table",{className:"min-w-full",children:[e("thead",{className:"bg-gray-50",children:t("tr",{children:[e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Booking Details"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Schedule"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:i?e("tr",{children:t("td",{colSpan:"6",className:"px-6 py-12 text-center",children:[e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e("p",{className:"text-gray-500 mt-2",children:"Loading bookings..."})]})}):0===C.length?e("tr",{children:e("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:"No bookings found"})}):C.map((l,r)=>{var n;return t(a.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*r},className:"hover:bg-gray-50",children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"flex items-center",children:[e("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e(h,{className:"w-5 h-5 text-blue-600"})}),t("div",{className:"ml-4",children:[e("div",{className:"text-sm font-medium text-gray-900",children:(null==(n=l.turf)?void 0:n.turf_name)||"N/A"}),t("div",{className:"text-sm text-gray-500",children:["#",l.id]})]})]})}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[e("div",{className:"text-sm font-medium text-gray-900",children:l.customer_name||"N/A"}),e("div",{className:"text-sm text-gray-500",children:l.customer_phone||"N/A"})]}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[t("div",{className:"text-sm text-gray-900 flex items-center",children:[e(p,{className:"w-4 h-4 mr-1"}),new Date(l.date).toLocaleDateString()]}),t("div",{className:"text-sm text-gray-500 flex items-center",children:[e(v,{className:"w-4 h-4 mr-1"}),l.start_time&&l.end_time?`${l.start_time}-${l.end_time}`:"N/A"]})]}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"text-sm font-medium text-gray-900",children:["â‚¹",l.amount||0]})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("span",{className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full "+("confirmed"===l.status?"bg-green-100 text-green-800":"pending"===l.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:l.status})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>{x(l),N(!0)},className:"text-blue-600 hover:text-blue-900 p-1 rounded",children:e(s,{size:16})}),"pending"===l.status&&t(o,{children:[e("button",{onClick:()=>S(l.id,"confirmed"),className:"text-green-600 hover:text-green-900 p-1 rounded",children:e(b,{size:16})}),e("button",{onClick:()=>S(l.id,"cancelled"),className:"text-red-600 hover:text-red-900 p-1 rounded",children:e(I,{size:16})})]})]})})]},l.id)})})]})})}),e(w,{isOpen:y,onRequestClose:()=>N(!1),className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-hidden outline-none",overlayClassName:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:f&&t(o,{children:[t("div",{className:"p-6 border-b border-gray-200",children:[e("h2",{className:"text-2xl font-bold text-gray-900",children:"Booking Details"}),t("p",{className:"text-gray-600",children:["#",f.id]})]}),e("div",{className:"p-6 space-y-6",children:t("div",{className:"grid grid-cols-2 gap-6",children:[t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Turf"}),e("p",{className:"text-gray-900 font-medium",children:(null==(l=f.turf)?void 0:l.turf_name)||"N/A"})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Customer"}),e("p",{className:"text-gray-900 font-medium",children:f.customer_name||"N/A"})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Date"}),e("p",{className:"text-gray-900",children:new Date(f.date).toLocaleDateString()})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Time"}),e("p",{className:"text-gray-900",children:f.start_time&&f.end_time?`${f.start_time} - ${f.end_time}`:"N/A"})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Amount"}),t("p",{className:"text-gray-900 font-medium",children:["â‚¹",f.amount||0]})]}),t("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),e("span",{className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full "+("confirmed"===f.status?"bg-green-100 text-green-800":"pending"===f.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:f.status})]})]})}),e("div",{className:"p-6 border-t border-gray-200 flex justify-end",children:e("button",{onClick:()=>N(!1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Close"})})]})})]})})},va=()=>{const a=fe();return e(St,{activeTab:"bookings"===a.pathname.split("/")[2]?"bookings":"dashboard",children:t(ye,{children:[e(be,{path:"/",element:e(pe,{to:"/staff/dashboard",replace:!0})}),e(be,{path:"/dashboard",element:e(ya,{})}),e(be,{path:"/bookings",element:e(ba,{})}),e(be,{path:"/profile",element:e(ia,{})}),e(be,{path:"/settings",element:e(sa,{})})]})})};function Na(){return e(bt,{children:e(ve,{children:e("div",{className:"App",children:t(ye,{children:[e(be,{path:"/login",element:e(Nt,{})}),e(be,{path:"/admin/*",element:e(vt,{allowedRoles:["super_admin"],children:e(oa,{})})}),e(be,{path:"/owner/*",element:e(vt,{allowedRoles:["turf_owner"],children:e(xa,{})})}),e(be,{path:"/staff/*",element:e(vt,{allowedRoles:["staff"],children:e(va,{})})}),e(be,{path:"/unauthorized",element:e("div",{className:"text-center mt-8",children:"Unauthorized Access"})}),e(be,{path:"/",element:e(pe,{to:"/login",replace:!0})})]})})})})}const wa=new me({defaultOptions:{queries:{staleTime:3e5,cacheTime:6e5,refetchOnWindowFocus:!1,retry:2},mutations:{retry:1}}}),_a=({children:e})=>t(ue,{client:wa,children:[e,!1]});Ee.createRoot(document.getElementById("root")).render(e(le.StrictMode,{children:e(Le,{FallbackComponent:({error:a,resetErrorBoundary:l})=>e("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t("div",{className:"text-center p-8",children:[e("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Something went wrong"}),e("p",{className:"text-gray-600 mb-4",children:a.message}),e("button",{onClick:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Try again"})]})}),children:t(_a,{children:[e(Na,{}),e(he,{position:"top-right"})]})})}));
